var w=Object.defineProperty;var v=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var _=(t,s,a)=>s in t?w(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,p=(t,s)=>{for(var a in s||(s={}))V.call(s,a)&&_(t,a,s[a]);if(v)for(var a of v(s))g.call(s,a)&&_(t,a,s[a]);return t};var f=(t,s,a)=>new Promise((u,m)=>{var i=r=>{try{o(a.next(r))}catch(c){m(c)}},d=r=>{try{o(a.throw(r))}catch(c){m(c)}},o=r=>r.done?u(r.value):Promise.resolve(r.value).then(i,d);o((a=a.apply(t,s)).next())});import{dL as x,bj as k,dK as y}from"./bootstrap-DjYyHEgg.js";import{h as C,a as P}from"./index-BWhM0zNP.js";import{f as N}from"./index-CrMcuxT_.js";import{m as j,b9 as h,aa as F,ab as M,b2 as R,u as A,bJ as S,ae as J,j as K}from"../jse/index-index-rmdNY63r.js";const L={class:"common-form"},H=j({__name:"form",setup(t,{expose:s}){const a=h({}),u=h(),[m,i]=x(p({showDefaultActions:!1},N)),[d,o]=k({onOpenChange(n){const e=o.getData();u.value=n?e==null?void 0:e.gridApi:null,a.value=n?(e==null?void 0:e.record)||{}:{},i.setValues(a.value)},onConfirm(){return f(this,null,function*(){var e,l;if((yield i.validate()).valid)try{o.lock(!0);const b=yield i.getValues(),B=yield r(b);yield((e=a.value)!=null&&e.id?C:P)(B),y.success("保存成功"),(l=u.value)==null||l.reload(),o.close()}finally{o.lock(!1)}})}});function r(n){return f(this,null,function*(){const{brandName:e,id:l}=n;return p({brandName:e},l&&{id:l})})}const c=F(()=>{var n;return(n=a.value)!=null&&n.id?"编辑品牌":"新增品牌"});return s(o),(n,e)=>(R(),M(A(d),{title:c.value,class:"w-300px"},{default:S(()=>[J("div",L,[K(A(m))])]),_:1},8,["title"]))}});export{H as _};
