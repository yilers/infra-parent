var z=Object.defineProperty,P=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var C=(o,e,t)=>e in o?z(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,m=(o,e)=>{for(var t in e||(e={}))S.call(e,t)&&C(o,t,e[t]);if(h)for(var t of h(e))V.call(e,t)&&C(o,t,e[t]);return o},y=(o,e)=>P(o,R(e));var b=(o,e,t)=>new Promise((f,p)=>{var g=n=>{try{l(t.next(n))}catch(d){p(d)}},i=n=>{try{l(t.throw(n))}catch(d){p(d)}},l=n=>n.done?f(n.value):Promise.resolve(n.value).then(g,i);l((t=t.apply(o,e)).next())});import{dJ as E,dz as F,dK as O}from"./bootstrap-DjYyHEgg.js";import{b as j,c as G}from"./index-BWhM0zNP.js";import{_ as J}from"./form.vue_vue_type_script_setup_true_lang-B-XHqJun.js";import{_ as L}from"./menu-drawer.vue_vue_type_script_setup_true_lang-DMFSG4zP.js";import{g as k,s as q}from"./index-CrMcuxT_.js";import{_ as w}from"./table-action.vue_vue_type_style_index_0_lang-BluPqhNI.js";import{_ as H}from"./page.vue_vue_type_script_setup_true_lang-CmAABu9Z.js";import{_ as K}from"./fallback.vue_vue_type_script_setup_true_lang-CaaeY5iC.js";import{m as N,b9 as I,aa as Q,ab as v,b2 as x,bJ as _,j as c,u as s}from"../jse/index-index-rmdNY63r.js";import{u as T}from"./use-drawer-CB92zaEG.js";import"./index-BMGH9Kr9.js";import"./index-DpFkAyCC.js";import"./menu-select-table-RWiO7UhU.js";import"./tree-DTIvVT2i.js";import"./index-xNzK-YmT.js";import"./Checkbox-CqCSSW-K.js";import"./index-CM6A-82x.js";import"./uniq-B9t2APT2.js";import"./index-Bw6N7aDv.js";import"./shallowequal-W2RnI4nT.js";import"./Dropdown-D1vLSWoc.js";import"./rotate-cw-Dzdn7gja.js";const he=N({__name:"index",setup(o){const e=I(),t=m({},q),f=y(m({},k),{toolbarConfig:m({},k.toolbarConfig),stripe:!0,border:!0,rowConfig:{isHover:!0},columnConfig:{resizable:!1},showOverflow:!0,exportConfig:{},height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(ke,we)=>b(null,[ke,we],function*({page:{currentPage:a,pageSize:u}},r){return yield j(m({current:a,size:u},r))})}}}),p={},[g,i]=E({gridEvents:p,formOptions:t,gridOptions:f}),l=()=>{e.value.setData({gridApi:i}),e.value.open()},n=a=>{e.value.setData({record:a,gridApi:i}),e.value.open()},d=a=>b(null,null,function*(){yield G(a.id),O.success("删除成功"),i.reload()}),{hasAccessByCodes:D}=F(),M=Q(()=>D(["store:brandManagement:list"])),[A,B]=T({connectedComponent:L}),$=a=>{B.setData({id:a.id}).open()};return(a,u)=>M.value?(x(),v(s(H),{key:0,"auto-content-height":""},{default:_(()=>[c(s(g),null,{"toolbar-actions":_(()=>[c(s(w),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["store:brandManagement:add"],onClick:l.bind(null)}]},null,8,["actions"])]),action:_(({row:r})=>[c(s(w),{actions:[{label:"编辑",icon:"ant-design:edit-outlined",type:"link",size:"small",auth:["store:brandManagement:edit"],onClick:n.bind(null,r)},{label:"关联菜单",icon:"ant-design:edit-outlined",auth:["store:brandManagement:associatedMenu"],onClick:$.bind(null,r)}],"drop-down-actions":[{label:"删除",icon:"ant-design:delete-outlined",ifShow:!1,popConfirm:{title:"确定删除吗？",confirm:d.bind(null,r)}}]},null,8,["actions","drop-down-actions"])]),_:1}),c(J,{ref_key:"brandManagementFormRef",ref:e},null,512),c(s(A),{onReload:u[0]||(u[0]=r=>s(i).reload())})]),_:1})):(x(),v(s(K),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{he as default};
