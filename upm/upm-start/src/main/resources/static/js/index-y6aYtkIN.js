var p=(b,m,n)=>new Promise((i,r)=>{var c=e=>{try{a(n.next(e))}catch(s){r(s)}},d=e=>{try{a(n.throw(e))}catch(s){r(s)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(c,d);a((n=n.apply(b,m)).next())});import{ee as k,dz as x,fu as w,fv as D}from"./bootstrap-DjYyHEgg.js";import{q as V,_ as q,c as A}from"./post-drawer.vue_vue_type_script_setup_true_lang-BDB8Xgnx.js";import{_ as C}from"./table-action.vue_vue_type_style_index_0_lang-BluPqhNI.js";import{_ as $}from"./page.vue_vue_type_script_setup_true_lang-CmAABu9Z.js";import{_ as B}from"./fallback.vue_vue_type_script_setup_true_lang-CaaeY5iC.js";import{m as v,aa as T,ab as f,b2 as _,bJ as y,j as h,u as t,ac as j}from"../jse/index-index-rmdNY63r.js";import{u as L}from"./use-drawer-CB92zaEG.js";import"./get-popup-container-BlodRF3J.js";import"./useDateRangePicker-DjB1zMnJ.js";import"./index-Bw6N7aDv.js";import"./shallowequal-W2RnI4nT.js";import"./index-CM6A-82x.js";import"./Dropdown-D1vLSWoc.js";import"./rotate-cw-Dzdn7gja.js";const W=v({__name:"index",setup(b){V();const m={columns:A,height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:(l,...Z)=>p(null,[l,...Z],function*(o,u={}){return{records:yield D()}})}},rowConfig:{keyField:"id"},id:"system-tenant-index"},[n,i]=k({gridOptions:m}),[r,c]=L({connectedComponent:q,destroyOnClose:!0});function d(){c.setData({}).open()}function a(o){c.setData({id:o.id}).open()}function e(o){return p(this,null,function*(){yield w(o.id),yield i.query()})}const{hasAccessByCodes:s}=x(),g=T(()=>s(["system:tenant:list"]));return(o,u)=>g.value?(_(),f(t($),{key:0,"auto-content-height":!0},{default:y(()=>[h(t(n),null,{"toolbar-actions":y(()=>[h(t(C),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["system:tenant:add"],onClick:()=>d()}]},null,8,["actions"])]),action:y(({row:l})=>[l.operable===1?(_(),f(t(C),{key:0,actions:[{label:"编辑",icon:"ant-design:edit-outlined",auth:["system:tenant:edit"],onClick:a.bind(null,l)},{label:"删除",icon:"ant-design:delete-outlined",auth:["system:tenant:delete"],popConfirm:{title:"确定删除吗？",confirm:e.bind(null,l)}}]},null,8,["actions"])):j("",!0)]),_:1}),h(t(r),{onReload:u[0]||(u[0]=l=>t(i).query())})]),_:1})):(_(),f(t(B),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{W as default};
