var z=Object.defineProperty,B=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var k=(r,t,e)=>t in r?z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,n=(r,t)=>{for(var e in t||(t={}))F.call(t,e)&&k(r,e,t[e]);if(x)for(var e of x(t))V.call(t,e)&&k(r,e,t[e]);return r},v=(r,t)=>B(r,L(t));var y=(r,t,e)=>new Promise((u,c)=>{var m=o=>{try{l(e.next(o))}catch(s){c(s)}},f=o=>{try{l(e.throw(o))}catch(s){c(s)}},l=o=>o.done?u(o.value):Promise.resolve(o.value).then(m,f);l((e=e.apply(r,t)).next())});import{dJ as Y,dz as $,a7 as j}from"./bootstrap-DjYyHEgg.js";import{h as H,f as M}from"./fileTransfer-p8-3apt7.js";import{u as U}from"./table-FRaKquww.js";import{u as G,_ as J}from"./useTableImport-CNd8lRg2.js";import{u as q}from"./useShopCheck-DKIjDUfz.js";import{ci as S,m as K,aa as Q,be as W,ab as w,b2 as p,bJ as d,j as C,u as i,ae as X,bp as T,ad as Z,I as ee,bb as te,bL as ie,ai as re}from"../jse/index-index-rmdNY63r.js";import{u as oe}from"./useDateRangePicker-DjB1zMnJ.js";import{_ as ae}from"./page.vue_vue_type_script_setup_true_lang-CmAABu9Z.js";import{_ as le}from"./fallback.vue_vue_type_script_setup_true_lang-CaaeY5iC.js";import"./index-C4NAiFfA.js";import"./index-ld-cT6bn.js";import"./hasIn-CXmLCMBI.js";import"./isSymbol-BoOBgcZb.js";import"./useRefs-ReJqRy3L.js";import"./dateTime-Ce6Ez397.js";import"./index-CovW7kLz.js";import"./rotate-cw-Dzdn7gja.js";const{dateRangePresets:se}=oe(),O={toolbarConfig:{resizable:!0,search:!1},columns:[{field:"confirmReceiveTime",title:"确认收货时间",width:160},{field:"accountExpendTime",title:"账户支出时间",width:160},{field:"taokeSettleTime",title:"淘客结算时间",width:160},{field:"createTime",title:"创建时间",width:160},{field:"planName",title:"计划名称",width:240},{field:"productId",title:"商品ID",width:160},{field:"productName",title:"商品名称",width:160},{field:"actualDealPrice",title:"实际成交价格",width:150},{field:"dealItemCount",title:"成交商品数",width:150},{field:"commissionRate",title:"佣金比例",width:120},{field:"commissionAmount",title:"佣金",width:150},{field:"serviceRate",title:"服务费率",width:120},{field:"serviceAmount",title:"服务费金额",width:150},{field:"marketingServiceRate",title:"营销服务费比例",width:120},{field:"marketingServiceAmount",title:"营销服务费金额",width:150},{field:"marketingServiceRateStructure",title:"营销服务费比率构成",width:150},{field:"marketingServiceAmountStructure",title:"营销服务费金额构成",width:150},{field:"parentOrderNo",title:"淘宝父订单编号",width:240},{field:"subOrderNo",title:"淘宝子订单编号",width:240},{field:"sourceNick",title:"来源或淘客昵称",width:240},{field:"leaderName",title:"团长名称",width:240},{field:"presaleUnpaidTail",title:"是否预售未付尾款订单",width:160},{field:"remark",title:"备注",width:160}]},ne={wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",compact:!0,collapsed:!0,commonConfig:{componentProps:{class:"w-full"}},schema:[se.datetime("createTime","创建时间",[S().startOf("month"),S().endOf("month")]),{component:"Input",componentProps:{allowClear:!0},fieldName:"productId",label:"商品id"},{component:"Input",componentProps:{allowClear:!0},fieldName:"parentOrderNo",label:"淘宝父订单编号"},{component:"Input",componentProps:{allowClear:!0},fieldName:"subOrderNo",label:"淘宝子订单编号"}],fieldMappingTime:[["createTime",["startTime","endTime"],"YYYY-MM-DD HH:mm:ss"]],showCollapseButton:!0,submitOnChange:!1,submitOnEnter:!1},Oe=K({__name:"index",setup(r){const{checkShopSelected:t}=q(),{bizImportType:e,bizImportTypeList:u,uploadFormRef:c,isError:m,extension:f,handleImport:l,ImportSettingButton:o}=G({importTypeList:[{id:1,label:"导入数据",bizCode:"TAOBAO_CPS_ORDER_DETAIL",isError:!1,auth:"basic:tmallCPSOrderDetails:import"}],defaultExtension:".csv,.xlsx,.xls",errorExtension:".xlsx"}),s=n({},ne),I=v(n({},O),{toolbarConfig:n({},O.toolbarConfig),stripe:!0,border:!0,rowConfig:{isHover:!0},columnConfig:{resizable:!1},showOverflow:!0,exportConfig:{},height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(a,g)=>y(null,[a,g],function*({page:{currentPage:h,pageSize:_}},b){return t()?yield U(n({current:h,size:_},b)):{result:{records:[],total:0}}})}}}),N={},[D,A]=Y({gridEvents:N,formOptions:s,gridOptions:I}),{hasAccessByCodes:E}=$(),P=Q(()=>E(["basic:tmallCPSOrderDetails:list"]));return(h,_)=>{const b=W("access");return P.value?(p(),w(i(ae),{key:0,"auto-content-height":""},{default:d(()=>[C(i(D),null,{"toolbar-actions":d(()=>[(p(!0),Z(ee,null,te(i(u),a=>ie((p(),w(i(j),{key:a.id,type:"primary",style:{"margin-right":"12px"},onClick:g=>i(l)(a.bizCode,a.isError,i(A))},{default:d(()=>[re(T(a.label),1)]),_:2},1032,["onClick"])),[[b,[a.auth],"codes"]])),128))]),"toolbar-tools":d(()=>[C(i(o))]),natureValue:d(({row:a})=>{var g;return[X("div",null,T(((g=h.natureList.find(R=>R.value===a.nature))==null?void 0:g.label)||a.nature),1)]}),_:1}),C(i(J),{ref_key:"uploadFormRef",ref:c,"biz-import-type":i(e),extension:i(f),"is-error":i(m),"upload-fn":i(m)?i(M):i(H)},null,8,["biz-import-type","extension","is-error","upload-fn"])]),_:1})):(p(),w(i(le),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}}});export{Oe as default};
