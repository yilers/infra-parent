var k=Object.defineProperty;var d=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var p=(o,a,e)=>a in o?k(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,f=(o,a)=>{for(var e in a||(a={}))g.call(a,e)&&p(o,e,a[e]);if(d)for(var e of d(a))v.call(a,e)&&p(o,e,a[e]);return o};var _=(o,a,e)=>new Promise((n,i)=>{var l=c=>{try{r(e.next(c))}catch(s){i(s)}},m=c=>{try{r(e.throw(c))}catch(s){i(s)}},r=c=>c.done?n(c.value):Promise.resolve(c.value).then(l,m);r((e=e.apply(o,a)).next())});import{dL as w,bj as x,dK as A}from"./bootstrap-DjYyHEgg.js";import{a as C}from"./index-CwQ9Bea5.js";import{c as V}from"./index-C17F3t2v.js";import{m as F,b9 as b,ab as y,b2 as I,u as h,bJ as K,j as M}from"../jse/index-index-rmdNY63r.js";const L=F({__name:"checkedKpiForm",setup(o,{expose:a}){const e=b({}),n=b(),[i,l]=w(f({showDefaultActions:!1},V)),[m,r]=x({onOpenChange(s){const t=r.getData();n.value=s?t==null?void 0:t.gridApi:null,e.value=s?(t==null?void 0:t.record)||{}:{}},onConfirm(){return _(this,null,function*(){var s;try{const{valid:t}=yield l.validate();if(!t)return;const u=yield l.getValues();r.lock(!0),u.id=e.value.id,u.masterTableId=e.value.masterTableId,yield C(u),A.success("保存成功"),(s=n.value)==null||s.reload(),r.close()}finally{r.lock(!1)}})}});return a(r),(s,t)=>(I(),y(h(m),{title:"KPI校对",class:"w-300px"},{default:K(()=>[M(h(i))]),_:1}))}});export{L as _};
