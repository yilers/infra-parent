import{s,g as d,E as c,h as m,t as g}from"./contast-C3bEivmW.js";import{dw as a,dv as t,dO as p}from"./bootstrap-DjYyHEgg.js";const C={toolbarConfig:{resizable:!0},columns:[{field:"tabCode",title:"Tab编码"},{field:"tabName",title:"Tab名称"},{field:"pageName",title:"关联菜单"},{field:"remark",title:"备注"},{width:250,title:"操作",align:"center",slots:{default:"action"},fixed:"right"}]},h={wrapperClass:"grid-cols-12",commonConfig:{formItemClass:"col-span-12",labelWidth:80},schema:[{fieldName:"id",label:"ID",component:"Input",dependencies:{show:!1,triggerFields:["id"]}},{fieldName:"tabName",label:"Tab名称",component:"Input",componentProps:{class:"w-full",disabled:!0}},{fieldName:"list",componentProps:{},hideLabel:!0,label:"表格配置",component:""}]},b={toolbarConfig:{custom:!1,refresh:!1,resizable:!1,zoom:!1},columns:[{type:"checkbox",align:"left",width:60},{field:"id",title:"编号"},{editRender:{name:"input"},field:"name",title:"二级列名"},{field:"categoryName",title:"一级列名",editRender:{name:"input"}},{field:"calcWay",title:"汇总方式",formatter({cellValue:e}){const o=s.find(r=>r.value===e);return o?o.label:e}},{field:"extra",title:"汇总参数",formatter({cellValue:e}){return e!=null?e:"-"}},{field:"sourceColumnName",title:"来源列"},{field:"sourceCategoryName",title:"来源分类"}]},x={toolbarConfig:{custom:!1,refresh:!1,resizable:!1,zoom:!1},columns:[{type:"checkbox",align:"left",width:60},{field:"id",title:"编号"},{field:"name",title:"名称"},{field:"createTime",title:"添加时间"}]},S={wrapperClass:"grid-cols-12",commonConfig:{formItemClass:"col-span-12"},schema:[{fieldName:"id",label:"ID",component:"Input",dependencies:{show:!1,triggerFields:["id"]}},{fieldName:"tabName",label:"tab名称",component:"Input",rules:"required",componentProps:{placeholder:"请输入名称",allowClear:!0,class:"w-60"}},{fieldName:"pageCode",label:"关联菜单",component:"Select",componentProps:{placeholder:"请选择",options:d,class:"w-60"},rules:"selectRequired",dependencies:{componentProps:(e,o)=>{const r={[a.ShopRechargeSales]:t.Summary,[a.ShopOperationReport]:t.CommonB,[a.ShopRechargeDerivative]:t.CommonC,[a.BiReport]:t.Iframe,[a.KpiBigScreen]:t.Iframe,[a.DataChart]:t.Iframe};return{onChange:n=>{const i=r[e.pageCode];i&&o.setFieldValue("extra.templateType",i),[a.BiReport,a.DataChart,a.KpiBigScreen].includes(n)&&o.setFieldValue("extra.direction",void 0),n!==a.ShopOperationReport&&o.setFieldValue("extra.comparison",void 0),e.extra.link&&o.setFieldValue("extra.link",void 0),e.extra.attachParams&&o.setFieldValue("extra.attachParams",void 0),e.extra.extraExportColumn&&o.setFieldValue("extra.extraExportColumn",void 0)}}},triggerFields:["pageCode"]}},{fieldName:"extra.templateType",label:"模板类型",component:"Select",componentProps:{placeholder:"请选择",class:"w-60"},dependencies:{componentProps(e){return e.pageCode===a.ShopRechargeSales?{options:l()}:e.pageCode===a.ShopOperationReport?{options:l([t.CommonB])}:e.pageCode===a.ShopRechargeDerivative?{options:l([t.CommonC])}:[a.BiReport,a.DataChart,a.KpiBigScreen].includes(e.pageCode)?{options:l([t.Iframe])}:{}},triggerFields:["pageCode"]},rules:"selectRequired"},{component:"Select",componentProps:{class:"w-60",allowClear:!0,placeholder:"请选择",mode:"multiple",options:[{label:"带环比",value:"monthOnMonth"},{label:"带同比",value:"yearOverYear"}]},fieldName:"extra.comparison",label:"数据对比",dependencies:{if(e){return e.pageCode===a.ShopOperationReport},triggerFields:["pageCode"]}},{fieldName:"extra.link",label:"外部URL",component:"Input",rules:"required",componentProps:{placeholder:"请输入链接",allowClear:!0,class:"w-80"},dependencies:{if(e){return[a.BiReport,a.DataChart,a.KpiBigScreen].includes(e.pageCode)},triggerFields:["pageCode"]}},{fieldName:"extra.attachParams",label:"参数",component:"Input",componentProps:{placeholder:"请输入参数",allowClear:!0,class:"w-80"},dependencies:{if(e){return[a.BiReport,a.DataChart,a.KpiBigScreen].includes(e.pageCode)},triggerFields:["pageCode"]}},{fieldName:"extra.direction",label:"数据样式",component:"Select",componentProps:{placeholder:"请选择",options:c,class:"w-60"},rules:"selectRequired",dependencies:{if(e){return e.pageCode&&![a.BiReport,a.DataChart,a.KpiBigScreen].includes(e.pageCode)},componentProps:(e,o)=>({onChange:r=>{o.setFieldValue("extra.extraExportColumn",void 0)}}),trigger(e,o){e.pageCode&&o.setFieldValue("extra.direction",e.extra.direction||p.Horizontal)},triggerFields:["pageCode"]}},{fieldName:"extra.extraExportColumn",label:"导出附加列",component:"Select",componentProps:{class:"w-80",placeholder:"请选择",options:m,maxTagCount:3,maxTagTextLength:6,mode:"multiple",allowClear:!0,showSearch:!0,filterOption:(e,o)=>o.label.toLowerCase().includes(e.toLowerCase())},dependencies:{if(e){var o;return e.pageCode&&e.pageCode===a.ShopRechargeSales&&((o=e.extra)==null?void 0:o.direction)===p.Transposed},triggerFields:["pageCode","extra"]}},{component:"Textarea",fieldName:"remark",formItemClass:"col-span-12",label:"备注",componentProps:{class:"w-80"}}]},w={wrapperClass:"grid-cols-4 md:grid-cols-4",compact:!0,collapsed:!0,schema:[{component:"Input",componentProps:{allowClear:!0,placeholder:"请输入"},fieldName:"categoryName",label:"来源分类"},{component:"Input",componentProps:{allowClear:!0,placeholder:"请输入"},fieldName:"name",label:"名称"},{fieldName:"calcWayList",label:"汇总方式",component:"Select",componentProps:{placeholder:"请选择",mode:"multiple",allowClear:!0,showSearch:!1,options:s,maxTagCount:1,maxTagTextLength:5,filterOption:(e,o)=>o.label.toLowerCase().includes(e.toLowerCase())}}],showCollapseButton:!1,submitOnChange:!1,submitOnEnter:!1},l=(e=[t.Summary,t.Proportion,t.CommonA])=>g.filter(o=>e.includes(o.value));export{w as a,x as b,b as c,h as f,C as g,S as p};
