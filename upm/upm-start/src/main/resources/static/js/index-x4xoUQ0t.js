var u=(b,l,n)=>new Promise((i,r)=>{var m=e=>{try{a(n.next(e))}catch(o){r(o)}},p=e=>{try{a(n.throw(e))}catch(o){r(o)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(m,p);a((n=n.apply(b,l)).next())});import{dU as k,dV as x,ee as V,ef as w}from"./bootstrap-B0IOIL79.js";import{q as D,_ as q,c as A}from"./post-drawer.vue_vue_type_script_setup_true_lang-VtYuxrXL.js";import{_ as C}from"./table-action.vue_vue_type_style_index_0_lang-D0vDTAOO.js";import{_ as $}from"./page.vue_vue_type_script_setup_true_lang-Bz79GSJl.js";import{_ as B}from"./fallback.vue_vue_type_script_setup_true_lang-CK1l9FEq.js";import{m as T,aa as j,ab as f,b2 as _,bJ as y,j as h,u as t,ac as v}from"../jse/index-index-StHjciy-.js";import{u as L}from"./use-drawer-zBZwZnKb.js";import"./get-popup-container-BlodRF3J.js";import"./useDateRangePicker-BKtSYaWH.js";import"./index-CI0QbcYu.js";import"./shallowequal-OTweHxuM.js";import"./Overflow-2nn19wYT.js";import"./index-bM1Vk0h0.js";import"./collapseMotion-BMhP7PaA.js";import"./slide-2E_o1wq8.js";import"./index-Bml6TPTK.js";import"./Dropdown-C8KFxVx_.js";import"./move-tO33QGmZ.js";import"./rotate-cw-G598-s-f.js";import"./x-eg9hdiEc.js";const ne=T({__name:"index",setup(b){D();const l={columns:A,height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:(c,...se)=>u(null,[c,...se],function*(s,d={}){return{records:yield w()}})}},rowConfig:{keyField:"id"},id:"system-tenant-index"},[n,i]=k({gridOptions:l}),[r,m]=L({connectedComponent:q,destroyOnClose:!0});function p(){m.setData({}).open()}function a(s){m.setData({id:s.id}).open()}function e(s){return u(this,null,function*(){yield V(s.id),yield i.query()})}const{hasAccessByCodes:o}=x(),g=j(()=>o(["system:tenant:list"]));return(s,d)=>g.value?(_(),f(t($),{key:0,"auto-content-height":!0},{default:y(()=>[h(t(n),null,{"toolbar-actions":y(()=>[h(t(C),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["system:tenant:add"],onClick:()=>p()}]},null,8,["actions"])]),action:y(({row:c})=>[c.operable===1?(_(),f(t(C),{key:0,actions:[{label:"编辑",icon:"ant-design:edit-outlined",auth:["system:tenant:edit"],onClick:a.bind(null,c)},{label:"删除",icon:"ant-design:delete-outlined",auth:["system:tenant:delete"],popConfirm:{title:"确定删除吗？",confirm:e.bind(null,c)}}]},null,8,["actions"])):v("",!0)]),_:1}),h(t(r),{onReload:d[0]||(d[0]=c=>t(i).query())})]),_:1})):(_(),f(t(B),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{ne as default};
