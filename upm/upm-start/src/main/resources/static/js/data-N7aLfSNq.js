import{g as u}from"./get-popup-container-BlodRF3J.js";import{a4 as i}from"./bootstrap-B0IOIL79.js";import{j as n}from"../jse/index-index-StHjciy-.js";const r=[{color:"green",label:"全部数据权限",value:1},{color:"cyan",label:"本部门及以下数据权限",value:2},{color:"orange",label:"本部门数据权限",value:3},{color:"default",label:"自定义数据权限",value:4}],d=()=>[{color:"error",label:"否",value:0},{color:"processing",label:"是",value:1}],h=()=>[{component:"Input",fieldName:"roleName",label:"角色名称"},{component:"Input",fieldName:"roleCode",label:"角色编码"},{component:"Select",componentProps:{allowClear:!0,options:r},fieldName:"dataScope",label:"权限范围"},{component:"Select",componentProps:{getPopupContainer:u,options:d()},fieldName:"usable",label:"是否启用"}],N=[{title:"角色名称",field:"roleName"},{title:"角色编码",field:"roleCode",slots:{default:({row:e})=>n(i,{color:"processing"},{default:()=>[e.roleCode]})}},{title:"数据权限",field:"dataScope",slots:{default:({row:e})=>{const s=r.find(o=>o.value===e.dataScope);return s?n(i,{color:s.color},{default:()=>[s.label]}):n(i,null,{default:()=>[e.dataScope]})}}},{title:"用户数量",field:"userCount"},{title:"是否启用",field:"usable",slots:{default:"usable"}},{title:"创建时间",field:"createTime",cellRender:{name:"CellDate"}},{field:"action",fixed:"right",slots:{default:"action"},title:"操作",resizable:!1,width:"auto"}],g=()=>[{component:"Input",dependencies:{show:()=>!1,triggerFields:[""]},fieldName:"id",label:"角色ID"},{component:"Input",fieldName:"roleName",label:"角色名称",rules:"required"},{component:"Input",fieldName:"roleCode",help:"如: test simpleUser等",label:"权限标识",rules:"required"},{component:"Select",componentProps:{allowClear:!1,getPopupContainer:u,options:r},fieldName:"dataScope",help:"更改后需要用户重新登录才能生效",label:"权限范围",rules:"selectRequired"},{fieldName:"usable",component:"RadioGroup",defaultValue:1,componentProps:{optionType:"button",buttonStyle:"solid",options:d()},rules:"required",label:"是否启用"},{component:"TreeSelect",defaultValue:[],dependencies:{show:e=>e.dataScope===4,triggerFields:["dataScope"]},fieldName:"roleDeptIdList",formItemClass:"col-span-2",help:"更改后立即生效",label:"部门权限"},{component:"Textarea",defaultValue:"",fieldName:"roleDesc",formItemClass:"col-span-2",label:"角色描述"}],S=()=>[{component:"Input",dependencies:{show:()=>!1,triggerFields:[""]},fieldName:"id",label:"角色ID"},{component:"Input",componentProps:{disabled:!0},fieldName:"roleName",label:"角色名称",rules:"required"},{component:"Input",componentProps:{disabled:!0},fieldName:"roleCode",label:"权限标识",rules:"required"},{fieldName:"device",component:"RadioGroup",componentProps:{optionType:"button",buttonStyle:"solid"},rules:"required",formItemClass:"col-span-2 lg:col-span-1",label:"平台类型"},{component:"Radio",dependencies:{show:()=>!1,triggerFields:[""]},fieldName:"menuCheckStrictly",label:"菜单权限"},{component:"Input",defaultValue:[],fieldName:"menuIds",label:"菜单权限",formItemClass:"col-span-2"}],I=()=>[{component:"Input",fieldName:"account",label:"用户账号"},{component:"Input",fieldName:"nickname",label:"用户昵称"},{component:"Input",fieldName:"phone",label:"手机号码"},{component:"Select",componentProps:{getPopupContainer:u,options:d()},fieldName:"usable",label:"用户状态"}],C=[{type:"checkbox",width:60,fixed:"left",resizable:!1},{field:"account",title:"账号",width:200},{field:"nickname",title:"昵称",width:160},{field:"roleList",title:"角色",width:200,showOverflow:!1,slots:{default:({row:e})=>e.roleList.length===0?null:((o,a)=>o.reduce((t,c,l)=>l%a?t:[...t,o.slice(l,l+a)],[]))(e.roleList,2).map((o,a,t)=>n("div",{key:a,style:a===(t==null?void 0:t.length)-1?void 0:"margin-bottom: 4px;"},[o.map(c=>{const l=r.find(p=>p.value===c.dataScope);return n(i,{color:(l==null?void 0:l.color)||"blue",style:"margin-right: 4px;"},{default:()=>[c.roleName]})})]))}},{field:"deptName",title:"部门",width:180},{field:"phone",title:"手机号",formatter({cellValue:e}){return e||"暂无"},width:180},{title:"状态",field:"usable",width:120,cellRender:{name:"CellTag",options:d()}}];export{r as a,I as b,N as c,g as d,S as m,h as q,C as u};
