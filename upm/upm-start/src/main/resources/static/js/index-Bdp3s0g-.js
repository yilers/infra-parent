var u=(b,l,o)=>new Promise((i,r)=>{var c=e=>{try{s(o.next(e))}catch(a){r(a)}},p=e=>{try{s(o.throw(e))}catch(a){r(a)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(c,p);s((o=o.apply(b,l)).next())});import{ee as k,dz as x}from"./bootstrap-DjYyHEgg.js";import{h as w,a as D}from"./index-BZ-foJ6e.js";import{q as V,_ as q,c as A}from"./post-drawer.vue_vue_type_script_setup_true_lang-C91giHFP.js";import{_ as C}from"./table-action.vue_vue_type_style_index_0_lang-BluPqhNI.js";import{_ as $}from"./page.vue_vue_type_script_setup_true_lang-CmAABu9Z.js";import{_ as B}from"./fallback.vue_vue_type_script_setup_true_lang-CaaeY5iC.js";import{m as P,aa as j,ab as f,b2 as _,bJ as y,j as h,u as t,ac as v}from"../jse/index-index-rmdNY63r.js";import{u as L}from"./use-drawer-CB92zaEG.js";import"./get-popup-container-BlodRF3J.js";import"./useDateRangePicker-DjB1zMnJ.js";import"./index-Bw6N7aDv.js";import"./shallowequal-W2RnI4nT.js";import"./index-CM6A-82x.js";import"./Dropdown-D1vLSWoc.js";import"./rotate-cw-Dzdn7gja.js";const X=P({__name:"index",setup(b){V();const l={columns:A,height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:(m,...ee)=>u(null,[m,...ee],function*(n,d={}){return{records:yield D()}})}},rowConfig:{keyField:"id"},id:"system-post-index"},[o,i]=k({gridOptions:l}),[r,c]=L({connectedComponent:q,destroyOnClose:!0});function p(){c.setData({}).open()}function s(n){c.setData({id:n.id}).open()}function e(n){return u(this,null,function*(){yield w(n.id),yield i.query()})}const{hasAccessByCodes:a}=x(),g=j(()=>a(["system:position:list"]));return(n,d)=>g.value?(_(),f(t($),{key:0,"auto-content-height":!0},{default:y(()=>[h(t(o),null,{"toolbar-actions":y(()=>[h(t(C),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["system:position:add"],onClick:()=>p()}]},null,8,["actions"])]),action:y(({row:m})=>[m.operable===1?(_(),f(t(C),{key:0,actions:[{label:"编辑",icon:"ant-design:edit-outlined",auth:["system:position:edit"],onClick:s.bind(null,m)},{label:"删除",icon:"ant-design:delete-outlined",auth:["system:position:delete"],popConfirm:{title:"确定删除吗？",confirm:e.bind(null,m)}}]},null,8,["actions"])):v("",!0)]),_:1}),h(t(r),{onReload:d[0]||(d[0]=m=>t(i).query())})]),_:1})):(_(),f(t(B),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{X as default};
