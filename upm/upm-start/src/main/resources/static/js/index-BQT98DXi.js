var L=Object.defineProperty,U=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var x=(o,i,e)=>i in o?L(o,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[i]=e,u=(o,i)=>{for(var e in i||(i={}))F.call(i,e)&&x(o,e,i[e]);if(_)for(var e of _(i))A.call(i,e)&&x(o,e,i[e]);return o},R=(o,i)=>U(o,V(i));var k=(o,i,e)=>new Promise((g,p)=>{var b=r=>{try{l(e.next(r))}catch(d){p(d)}},w=r=>{try{l(e.throw(r))}catch(d){p(d)}},l=r=>r.done?g(r.value):Promise.resolve(r.value).then(b,w);l((e=e.apply(o,i)).next())});import{W as M}from"./index-C4NAiFfA.js";import{dI as $,dJ as Y,dz as j,a7 as v}from"./bootstrap-DjYyHEgg.js";import{h as H}from"./fileTransfer-p8-3apt7.js";import{h as G}from"./table-FRaKquww.js";import{u as J,_ as W}from"./useTableImport-CNd8lRg2.js";import{u as K}from"./useDownLoad-Cw45s4VH.js";import{u as Q}from"./useShopCheck-DKIjDUfz.js";import{ci as S,m as X,b9 as Z,aa as ee,be as te,ab as f,b2 as m,bJ as n,j as h,u as t,bL as O,ai as T,ad as ie,I as oe,bb as re,bp as se}from"../jse/index-index-rmdNY63r.js";import{u as ae}from"./useDateRangePicker-DjB1zMnJ.js";import{_ as ne}from"./page.vue_vue_type_script_setup_true_lang-CmAABu9Z.js";import{_ as le}from"./fallback.vue_vue_type_script_setup_true_lang-CaaeY5iC.js";import"./index-ld-cT6bn.js";import"./hasIn-CXmLCMBI.js";import"./isSymbol-BoOBgcZb.js";import"./useRefs-ReJqRy3L.js";import"./dateTime-Ce6Ez397.js";import"./index-CovW7kLz.js";import"./rotate-cw-Dzdn7gja.js";const{dateRangePresets:de}=ae(),z={toolbarConfig:{custom:!0,export:!1,refresh:!0,resizable:!0,zoom:!0,search:!1},columns:[{title:"序号",type:"seq",width:50},{field:"refundOrderNo",title:"退单号",width:180},{field:"rechargeChannel",title:"充值渠道",width:180},{field:"originalOrderNo",title:"原订单号",width:180},{field:"refundReason",title:"退款原因",width:150},{field:"rechargeUsername",title:"充值用户名",width:150},{field:"productCode",title:"商品编码",width:150},{field:"productName",title:"商品名称",width:150},{field:"internalAuditStatus",title:"内部审核状态",width:150},{field:"auditMessage",title:"审核消息",width:150},{field:"iqiyiRefundStatus",title:"爱奇艺侧退单状态",width:150},{field:"refundMessage",title:"退单消息",width:150},{field:"iqiyiRefundTime",title:"爱奇艺侧退款时间",width:150},{field:"iqiyiRefundAmount",title:"爱奇艺侧退款金额（元）",width:180},{field:"creator",title:"创建人",width:150},{field:"createdTime",title:"创建时间",width:150},{field:"auditor",title:"审核人",width:150},{field:"auditTime",title:"审核时间",width:150}]},ue={wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",compact:!0,collapsed:!0,commonConfig:{componentProps:{class:"w-full"}},schema:[de.datetime("iqiyiRefundTime","退款时间",[S().startOf("month"),S().endOf("month")]),{component:"Input",componentProps:{allowClear:!0},defaultValue:"",fieldName:"refundOrderNo",label:"退单号"},{component:"Input",componentProps:{allowClear:!0},defaultValue:"",fieldName:"originalOrderNo",label:"原订单号"},{component:"Input",componentProps:{allowClear:!0},defaultValue:"",fieldName:"rechargeChannel",label:"充值渠道"}],fieldMappingTime:[["iqiyiRefundTime",["startTime","endTime"],"YYYY-MM-DD HH:mm:ss"]],showCollapseButton:!0,submitOnChange:!1,submitOnEnter:!1},Ee=X({__name:"index",setup(o){const{checkShopSelected:i}=Q(),{bizImportType:e,bizImportTypeList:g,uploadFormRef:p,extension:b,handleImport:w,ImportSettingButton:l}=J({importTypeList:[{id:1,label:"导入数据",bizCode:"SUP_REFUND_ORDER",isError:!1,auth:"basic:SUPEquityRefund:import"}],defaultExtension:".xlsx,.xls,.csv"}),r=Z($.supRefundOrderCsv),d=u({},ue),D=R(u({},z),{toolbarConfig:u({},z.toolbarConfig),stripe:!0,border:!0,rowConfig:{isHover:!0},columnConfig:{resizable:!1},showOverflow:!0,exportConfig:{},height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(a,me)=>k(null,[a,me],function*({page:{currentPage:y,pageSize:s}},c){return i()?yield G(u({current:y,size:s},c)):{result:{records:[],total:0}}})}}}),E={},[N,C]=Y({gridEvents:E,formOptions:d,gridOptions:D}),{handleDownload:P,downLoading:q}=K(),{hasAccessByCodes:I}=j(),B=ee(()=>I(["basic:SUPEquityRefund:list"]));return(y,s)=>{const c=te("access");return B.value?(m(),f(t(ne),{key:0,"auto-content-height":""},{default:n(()=>[h(t(N),null,{"toolbar-actions":n(()=>[(m(!0),ie(oe,null,re(t(g),a=>O((m(),f(t(v),{key:a.id,type:"primary",style:{"margin-right":"12px"},onClick:me=>t(w)(a.bizCode,a.isError,t(C))},{default:n(()=>[T(se(a.label),1)]),_:2},1032,["onClick"])),[[c,[a.auth],"codes"]])),128))]),"toolbar-tools":n(()=>[O((m(),f(t(v),{loading:t(q),class:"mr-2",type:"primary",onClick:s[0]||(s[0]=a=>t(P)(t(C),r.value))},{icon:n(()=>[h(t(M),{class:"mr-1 inline-block size-6"})]),default:n(()=>[s[1]||(s[1]=T(" 导出数据 ",-1))]),_:1},8,["loading"])),[[c,["basic:SUPEquityRefund:export"],"codes"]]),h(t(l))]),_:1}),h(t(W),{ref_key:"uploadFormRef",ref:p,"biz-import-type":t(e),"upload-fn":t(H),extension:t(b)},null,8,["biz-import-type","upload-fn","extension"])]),_:1})):(m(),f(t(le),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}}});export{Ee as default};
