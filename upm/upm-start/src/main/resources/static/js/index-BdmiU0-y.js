var u=(b,c,o)=>new Promise((n,r)=>{var m=t=>{try{i(o.next(t))}catch(s){r(s)}},l=t=>{try{i(o.throw(t))}catch(s){r(s)}},i=t=>t.done?n(t.value):Promise.resolve(t.value).then(m,l);i((o=o.apply(b,c)).next())});import{dU as k,dV as x}from"./bootstrap-B0IOIL79.js";import{h as V,a as w}from"./index-BFpe3Zix.js";import{q as D,_ as q,c as A}from"./post-drawer.vue_vue_type_script_setup_true_lang-CQgXH4iS.js";import{_ as C}from"./table-action.vue_vue_type_style_index_0_lang-D0vDTAOO.js";import{_ as $}from"./page.vue_vue_type_script_setup_true_lang-Bz79GSJl.js";import{_ as B}from"./fallback.vue_vue_type_script_setup_true_lang-CK1l9FEq.js";import{m as P,aa as j,ab as f,b2 as _,bJ as y,j as h,u as e,ac as v}from"../jse/index-index-StHjciy-.js";import{u as L}from"./use-drawer-zBZwZnKb.js";import"./get-popup-container-BlodRF3J.js";import"./useDateRangePicker-BKtSYaWH.js";import"./index-CI0QbcYu.js";import"./shallowequal-OTweHxuM.js";import"./Overflow-2nn19wYT.js";import"./index-bM1Vk0h0.js";import"./collapseMotion-BMhP7PaA.js";import"./slide-2E_o1wq8.js";import"./index-Bml6TPTK.js";import"./Dropdown-C8KFxVx_.js";import"./move-tO33QGmZ.js";import"./rotate-cw-G598-s-f.js";import"./x-eg9hdiEc.js";const it=P({__name:"index",setup(b){D();const c={columns:A,height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:(p,...nt)=>u(null,[p,...nt],function*(a,d={}){return{records:yield w()}})}},rowConfig:{keyField:"id"},id:"system-post-index"},[o,n]=k({gridOptions:c}),[r,m]=L({connectedComponent:q,destroyOnClose:!0});function l(){m.setData({}).open()}function i(a){m.setData({id:a.id}).open()}function t(a){return u(this,null,function*(){yield V(a.id),yield n.query()})}const{hasAccessByCodes:s}=x(),g=j(()=>s(["system:position:list"]));return(a,d)=>g.value?(_(),f(e($),{key:0,"auto-content-height":!0},{default:y(()=>[h(e(o),null,{"toolbar-actions":y(()=>[h(e(C),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["system:position:add"],onClick:()=>l()}]},null,8,["actions"])]),action:y(({row:p})=>[p.operable===1?(_(),f(e(C),{key:0,actions:[{label:"编辑",icon:"ant-design:edit-outlined",auth:["system:position:edit"],onClick:i.bind(null,p)},{label:"删除",icon:"ant-design:delete-outlined",auth:["system:position:delete"],popConfirm:{title:"确定删除吗？",confirm:t.bind(null,p)}}]},null,8,["actions"])):v("",!0)]),_:1}),h(e(r),{onReload:d[0]||(d[0]=p=>e(n).query())})]),_:1})):(_(),f(e(B),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{it as default};
