var m=(t,h,e)=>new Promise((i,r)=>{var f=n=>{try{c(e.next(n))}catch(o){r(o)}},l=n=>{try{c(e.throw(n))}catch(o){r(o)}},c=n=>n.done?i(n.value):Promise.resolve(n.value).then(f,l);c((e=e.apply(t,h)).next())});import{aZ as b,ec as y,bM as k,dv as x}from"./bootstrap-B0IOIL79.js";import"./index-DL4br4xk.js";import{m as T,aP as g,aa as C,bz as B,b9 as V,ab as M,b2 as w,u as S,aQ as N}from"../jse/index-index-StHjciy-.js";const Q=T({__name:"table-switch",props:g({checkedText:{default:void 0},unCheckedText:{default:void 0},checkedValue:{type:[Boolean,Number,String],default:1},unCheckedValue:{type:[Boolean,Number,String],default:0},disabled:{type:Boolean},api:{},confirm:{type:Boolean,default:!1},confirmText:{type:Function,default:void 0}},{value:{type:[Boolean,Number,String],default:!1},valueModifiers:{}}),emits:g(["reload"],["update:value"]),setup(t,{emit:h}){const e=t,i=h,r=C(()=>{var a;return(a=e.checkedText)!=null?a:b("pages.common.enable")}),f=C(()=>{var a;return(a=e.unCheckedText)!=null?a:b("pages.common.disable")}),l=B(t,"value"),c=V(!1);function n(a,u){const s=k(e.confirmText)?e.confirmText(a):"确认要更新状态吗？";x.confirm({title:"提示",content:s,centered:!0,onOk:()=>m(null,null,function*(){try{c.value=!0;const{api:d}=e;k(d)&&(yield d()),i("reload")}catch(d){l.value=u}finally{c.value=!1}}),onCancel:()=>{l.value=u}})}function o(a,u){return m(this,null,function*(){u.stopPropagation();const{checkedValue:s,unCheckedValue:d}=e,v=a===s?d:s;l.value=a;const{api:p}=e;try{if(c.value=!0,e.confirm){n(a,v);return}k(p)&&(yield p()),i("reload")}catch(P){l.value=v}finally{c.value=!1}})}return(a,u)=>(w(),M(S(y),N(a.$attrs,{loading:c.value,disabled:t.disabled,checked:l.value,"checked-children":r.value,"checked-value":t.checkedValue,"un-checked-children":f.value,"un-checked-value":t.unCheckedValue,onChange:o}),null,16,["loading","disabled","checked","checked-children","checked-value","un-checked-children","un-checked-value"]))}});export{Q as _};
