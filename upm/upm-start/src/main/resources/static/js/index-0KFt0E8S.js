var B=Object.defineProperty,z=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var C=(o,e,t)=>e in o?B(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,p=(o,e)=>{for(var t in e||(e={}))S.call(e,t)&&C(o,t,e[t]);if(b)for(var t of b(e))V.call(e,t)&&C(o,t,e[t]);return o},y=(o,e)=>z(o,R(e));var _=(o,e,t)=>new Promise((f,d)=>{var g=a=>{try{l(t.next(a))}catch(m){d(m)}},i=a=>{try{l(t.throw(a))}catch(m){d(m)}},l=a=>a.done?f(a.value):Promise.resolve(a.value).then(g,i);l((t=t.apply(o,e)).next())});import{dJ as j,dz as E,dK as F}from"./bootstrap-DjYyHEgg.js";import{i as O,j as G}from"./index-BWhM0zNP.js";import{_ as J}from"./form.vue_vue_type_script_setup_true_lang--wHSl5tB.js";import{_ as L}from"./menu-drawer.vue_vue_type_script_setup_true_lang-MxcxKeDF.js";import{g as k,s as q}from"./index-DazI-itC.js";import{_ as w}from"./table-action.vue_vue_type_style_index_0_lang-BluPqhNI.js";import{_ as H}from"./page.vue_vue_type_script_setup_true_lang-CmAABu9Z.js";import{_ as K}from"./fallback.vue_vue_type_script_setup_true_lang-CaaeY5iC.js";import{m as N,b9 as I,aa as Q,ab as v,b2 as x,bJ as h,j as c,u as s}from"../jse/index-index-rmdNY63r.js";import{u as T}from"./use-drawer-CB92zaEG.js";import"./index-BMGH9Kr9.js";import"./index-DpFkAyCC.js";import"./menu-select-table-RWiO7UhU.js";import"./tree-DTIvVT2i.js";import"./index-xNzK-YmT.js";import"./Checkbox-CqCSSW-K.js";import"./index-CM6A-82x.js";import"./uniq-B9t2APT2.js";import"./index-Bw6N7aDv.js";import"./shallowequal-W2RnI4nT.js";import"./Dropdown-D1vLSWoc.js";import"./rotate-cw-Dzdn7gja.js";const be=N({__name:"index",setup(o){const e=I(),t=p({},q),f=y(p({},k),{toolbarConfig:p({},k.toolbarConfig),stripe:!0,border:!0,rowConfig:{isHover:!0},columnConfig:{resizable:!1},showOverflow:!0,exportConfig:{},height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(ke,we)=>_(null,[ke,we],function*({page:{currentPage:n,pageSize:u}},r){return yield O(p({current:n,size:u},r))})}}}),d={},[g,i]=j({gridEvents:d,formOptions:t,gridOptions:f}),l=()=>{e.value.setData({gridApi:i}),e.value.open()},a=n=>{e.value.setData({record:n,gridApi:i}),e.value.open()},m=n=>_(null,null,function*(){yield G(n.id),F.success("删除成功"),i.reload()}),[D,M]=T({connectedComponent:L}),A=n=>{M.setData({id:n.id}).open()},{hasAccessByCodes:P}=E(),$=Q(()=>P(["store:platformManagement:list"]));return(n,u)=>$.value?(x(),v(s(H),{key:0,"auto-content-height":""},{default:h(()=>[c(s(g),null,{"toolbar-actions":h(()=>[c(s(w),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["store:platformManagement:add"],onClick:l.bind(null)}]},null,8,["actions"])]),action:h(({row:r})=>[c(s(w),{actions:[{label:"编辑",icon:"ant-design:edit-outlined",type:"link",size:"small",auth:["store:platformManagement:edit"],onClick:a.bind(null,r)},{label:"关联菜单",icon:"ant-design:edit-outlined",auth:["store:platformManagement:associatedMenu"],onClick:A.bind(null,r)}],"drop-down-actions":[{label:"删除",icon:"ant-design:delete-outlined",ifShow:!1,popConfirm:{title:"确定删除吗？",confirm:m.bind(null,r)}}]},null,8,["actions","drop-down-actions"])]),_:1}),c(J,{ref_key:"storeManagementFormRef",ref:e},null,512),c(s(D),{onReload:u[0]||(u[0]=r=>s(i).reload())})]),_:1})):(x(),v(s(K),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{be as default};
