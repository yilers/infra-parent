var A=Object.defineProperty,D=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var C=(a,e,t)=>e in a?A(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,c=(a,e)=>{for(var t in e||(e={}))B.call(e,t)&&C(a,t,e[t]);if(b)for(var t of b(e))F.call(e,t)&&C(a,t,e[t]);return a},y=(a,e)=>D(a,$(e));var h=(a,e,t)=>new Promise((u,m)=>{var f=n=>{try{i(t.next(n))}catch(r){m(r)}},s=n=>{try{i(t.throw(n))}catch(r){m(r)}},i=n=>n.done?u(n.value):Promise.resolve(n.value).then(f,s);i((t=t.apply(a,e)).next())});import{dJ as O,dz as P,dK as S}from"./bootstrap-DjYyHEgg.js";import{g as k,s as V,_ as j,h as E,a as G}from"./form.vue_vue_type_script_setup_true_lang-zBLjBmzJ.js";import{_ as M}from"./table-action.vue_vue_type_style_index_0_lang-BluPqhNI.js";import{_ as J}from"./page.vue_vue_type_script_setup_true_lang-CmAABu9Z.js";import{_ as L}from"./fallback.vue_vue_type_script_setup_true_lang-CaaeY5iC.js";import{m as R,b9 as q,aa as H,ab as v,b2 as x,bJ as g,j as d,u as l}from"../jse/index-index-rmdNY63r.js";import"./useDateRangePicker-DjB1zMnJ.js";import"./index-Bw6N7aDv.js";import"./shallowequal-W2RnI4nT.js";import"./index-CM6A-82x.js";import"./Dropdown-D1vLSWoc.js";import"./rotate-cw-Dzdn7gja.js";const ne=R({__name:"index",setup(a){const e=q(),t=c({},V),u=y(c({},k),{toolbarConfig:c({},k.toolbarConfig),stripe:!0,border:!0,rowConfig:{isHover:!0},columnConfig:{resizable:!1},showOverflow:!0,exportConfig:{},height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(ie,re)=>h(null,[ie,re],function*({page:{currentPage:o,pageSize:_}},p){return yield E(c({current:o,size:_},p))})}}}),m={},[f,s]=O({gridEvents:m,formOptions:t,gridOptions:u}),i=()=>{e.value.setData({gridApi:s}),e.value.open()},n=o=>{e.value.setData({record:o,gridApi:s}),e.value.open()},r=o=>h(null,null,function*(){yield G(o.id),S.success("删除成功"),s.reload()}),{hasAccessByCodes:w}=P(),z=H(()=>w(["template:merchantManagement:list"]));return(o,_)=>z.value?(x(),v(l(J),{key:0,"auto-content-height":""},{default:g(()=>[d(l(f),null,{"toolbar-actions":g(()=>[d(l(M),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["template:merchantManagement:add"],onClick:i.bind(null)}]},null,8,["actions"])]),action:g(({row:p})=>[d(l(M),{actions:[{label:"编辑",icon:"ant-design:edit-outlined",type:"link",size:"small",auth:["template:merchantManagement:edit"],onClick:n.bind(null,p)}],"drop-down-actions":[{label:"删除",icon:"ant-design:delete-outlined",type:"link",size:"small",auth:["template:merchantManagement:delete"],popConfirm:{title:"确定删除吗？",confirm:r.bind(null,p)}}]},null,8,["actions","drop-down-actions"])]),_:1}),d(j,{ref_key:"merchantManagementFormRef",ref:e},null,512)]),_:1})):(x(),v(l(L),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{ne as default};
