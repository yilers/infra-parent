var T=(t,l,a)=>new Promise((i,s)=>{var d=e=>{try{u(a.next(e))}catch(m){s(m)}},r=e=>{try{u(a.throw(e))}catch(m){s(m)}},u=e=>e.done?i(e.value):Promise.resolve(e.value).then(d,r);u((a=a.apply(t,l)).next())});import{bx as B,by as P,bv as n,bA as v,bD as V}from"./bootstrap-DjYyHEgg.js";import{T as $}from"./auth-title-C7QwDUQ5.js";import{m as x,b7 as C,aa as S,ad as _,b2 as k,j as b,ae as y,bJ as p,bc as w,ai as g,bp as h,u as o,aR as F,b9 as A,ab as N}from"../jse/index-index-rmdNY63r.js";const R=x({name:"ForgetPassword",__name:"forget-password",props:{formSchema:{},loading:{type:Boolean,default:!1},loginPath:{default:"/auth/login"},title:{default:""},subTitle:{default:""},submitButtonText:{default:""}},emits:["submit"],setup(t,{expose:l,emit:a}){const i=t,s=a,[d,r]=B(C({commonConfig:{hideLabel:!0,hideRequiredMark:!0},schema:S(()=>i.formSchema),showDefaultActions:!1})),u=P();function e(){return T(this,null,function*(){const{valid:c}=yield r.validate(),f=yield r.getValues();c&&s("submit",f)})}function m(){u.push(i.loginPath)}return l({getFormApi:()=>r}),(c,f)=>(k(),_("div",null,[b($,null,{desc:p(()=>[w(c.$slots,"subTitle",{},()=>[g(h(t.subTitle||o(n)("authentication.forgetPasswordSubtitle")),1)])]),default:p(()=>[w(c.$slots,"title",{},()=>[g(h(t.title||o(n)("authentication.forgetPassword"))+" ðŸ¤¦ðŸ»â€â™‚ï¸ ",1)])]),_:3}),b(o(d)),y("div",null,[b(o(v),{class:F([{"cursor-wait":t.loading},"mt-2 w-full"]),"aria-label":"submit",onClick:e},{default:p(()=>[w(c.$slots,"submitButtonText",{},()=>[g(h(t.submitButtonText||o(n)("authentication.sendResetLink")),1)])]),_:3},8,["class"]),b(o(v),{class:"mt-4 w-full",variant:"outline",onClick:f[0]||(f[0]=D=>m())},{default:p(()=>[g(h(o(n)("common.back")),1)]),_:1})])]))}}),z=x({name:"ForgetPassword",__name:"forget-password",setup(t){const l=A(!1),a=S(()=>[{component:"VbenInput",componentProps:{placeholder:"example@example.com"},fieldName:"email",label:n("authentication.email"),rules:V().min(1,{message:n("authentication.emailTip")}).email(n("authentication.emailValidErrorTip"))}]);function i(s){console.log("reset email:",s)}return(s,d)=>(k(),N(o(R),{"form-schema":a.value,loading:l.value,onSubmit:i},null,8,["form-schema","loading"]))}});export{z as default};
