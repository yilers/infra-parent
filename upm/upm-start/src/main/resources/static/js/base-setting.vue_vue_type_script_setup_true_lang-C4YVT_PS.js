var b=Object.defineProperty,h=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var m=(t,n,e)=>n in t?b(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,c=(t,n)=>{for(var e in n||(n={}))w.call(n,e)&&m(t,e,n[e]);if(f)for(var e of f(n))k.call(n,e)&&m(t,e,n[e]);return t},d=(t,n)=>h(t,I(n));var p=(t,n,e)=>new Promise((a,s)=>{var r=o=>{try{u(e.next(o))}catch(i){s(i)}},l=o=>{try{u(e.throw(o))}catch(i){s(i)}},u=o=>o.done?a(o.value):Promise.resolve(o.value).then(r,l);u((e=e.apply(t,n)).next())});import{cQ as _,cR as N,cS as x,cT as A,cU as S,cV as v,cW as O,aR as B,cX as V,b5 as g,cY as y,cZ as q}from"./bootstrap-B0IOIL79.js";import{u as F}from"./useUpdateUser-OZ8QtDaC.js";import{m as U,v as T,ad as D,b2 as P,j as R,u as C}from"../jse/index-index-StHjciy-.js";function L(t,n){let e;if(Array.isArray(n)?e=n:typeof n=="string"&&_(n)&&(t==null?void 0:t[n])==null?e=N(n):e=[n],e.length===0)return!1;let a=t;for(let s=0;s<e.length;s++){const r=e[s];if((a==null||!Object.hasOwn(a,r))&&!((Array.isArray(a)||x(a))&&A(r)&&r<a.length))return!1;a=a[r]}return!0}function W(t){return t==null}function E(t,...n){if(W(t))return{};const e={};for(let a=0;a<n.length;a++){let s=n[a];switch(typeof s){case"object":{Array.isArray(s)||(S(s)?s=Array.from(s):s=[s]);break}case"string":case"symbol":case"number":{s=[s];break}}for(const r of s){const l=v(t,r);l===void 0&&!L(t,r)||(typeof r=="string"&&Object.hasOwn(t,r)?e[r]=l:O(e,r,l))}}return e}const G={class:"mt-[16px] md:w-full lg:w-1/2 2xl:w-2/5"},Z=U({__name:"base-setting",setup(t){const n=B(),{updateUser:e}=F(),[a,s]=V({commonConfig:{labelWidth:60},handleSubmit:l,resetButtonOptions:{show:!1},schema:[{component:"Input",dependencies:{show:()=>!1,triggerFields:[""]},fieldName:"id",label:"用户ID",rules:"required"},{component:"Input",dependencies:{show:()=>!1,triggerFields:[""]},fieldName:"account",label:"账号",rules:"required"},{component:"Input",dependencies:{show:()=>!1,triggerFields:[""]},fieldName:"deptId",label:"部门ID",rules:"required"},{component:"Input",fieldName:"name",label:"姓名",rules:"required"},{component:"Input",fieldName:"nickname",label:"昵称",rules:"required"},{component:"Input",fieldName:"phone",label:"手机号码",rules:g().regex(/^1[3-9]\d{9}$/,"请输入正确的手机号码").optional().or(y(""))},{component:"Input",fieldName:"email",label:"邮箱",rules:g().email("请输入正确的邮箱").optional().or(y(""))},{component:"RadioGroup",componentProps:{buttonStyle:"solid",options:u(),optionType:"button"},defaultValue:1,fieldName:"gender",label:"性别"}],submitButtonOptions:{content:"更新信息"}});function r(o){s.setState(i=>d(c({},i),{submitButtonOptions:d(c({},i.submitButtonOptions),{loading:o})}))}function l(){return p(this,null,function*(){try{r(!0);const{valid:o}=yield s.validate();if(!o)return;const i=yield s.getValues();(yield e(i))&&q.success("保存成功")}catch(o){console.error(o)}finally{r(!1)}})}function u(){return[{color:"error",label:"男",value:1},{color:"processing",label:"女",value:0}]}return T(()=>{const o=E(n.userInfo,["id","name","nickname","email","phone","gender","deptId","account"]);s.setValues(o)}),(o,i)=>(P(),D("div",G,[R(C(a))]))}});export{Z as _};
