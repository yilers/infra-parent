var It=Object.defineProperty,kt=Object.defineProperties;var _t=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Xe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable;var Ke=(e,t,n)=>t in e?It(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ie=(e,t)=>{for(var n in t||(t={}))Xe.call(t,n)&&Ke(e,n,t[n]);if(ye)for(var n of ye(t))Ye.call(t,n)&&Ke(e,n,t[n]);return e},ke=(e,t)=>kt(e,_t(t));var be=(e,t)=>{var n={};for(var a in e)Xe.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&ye)for(var a of ye(e))t.indexOf(a)<0&&Ye.call(e,a)&&(n[a]=e[a]);return n};var _e=(e,t,n)=>new Promise((a,o)=>{var l=r=>{try{s(n.next(r))}catch(c){o(c)}},i=r=>{try{s(n.throw(r))}catch(c){o(c)}},s=r=>r.done?a(r.value):Promise.resolve(r.value).then(l,i);s((n=n.apply(e,t)).next())});import{cM as Be,bd as Mt,b9 as lt,ba as Lt,bb as Ge,bF as At,bG as Rt,be as it,dU as $t,dV as Dt,Q as Nt,a3 as Bt}from"./bootstrap-B0IOIL79.js";import{b as Gt,c as qt,a as Ht}from"./index-DOXJoA8u.js";import{b as Wt}from"./params-B2Lywk-4.js";import{q as Ft,c as Tt}from"./data-ePPyyFAB.js";import{_ as Ot}from"./dept-tree.vue_vue_type_script_setup_true_lang-BMWFabDV.js";import{_ as Vt}from"./user-drawer.vue_vue_type_script_setup_true_lang-CO_LRlQh.js";import{_ as jt}from"./user-permission-drawer.vue_vue_type_script_setup_true_lang-C8aNfL9-.js";import{_ as Ut}from"./user-reset-pwd-modal.vue_vue_type_script_setup_true_lang-DtiLjkTP.js";import{_ as Je,I as Kt}from"./table-action.vue_vue_type_style_index_0_lang-D0vDTAOO.js";import{_ as Xt}from"./table-switch.vue_vue_type_script_setup_true_lang-Bfn17zJi.js";import{_ as Yt}from"./page.vue_vue_type_script_setup_true_lang-Bz79GSJl.js";import{bF as ce,m as ne,bt as $e,b9 as F,aa as O,w as qe,ab as V,b2 as W,bJ as $,bc as te,u as y,aT as He,v as Jt,x as Qt,aQ as We,cc as ot,ad as De,ac as Fe,j as q,bB as Zt,aS as Me,aw as Le,ag as en,bb as tn,b7 as nn,ae as an}from"../jse/index-index-StHjciy-.js";import{_ as ln}from"./fallback.vue_vue_type_script_setup_true_lang-CK1l9FEq.js";import{u as Qe}from"./use-drawer-zBZwZnKb.js";import{u as on}from"./use-modal-RS0jGB5k.js";import"./index-BFpe3Zix.js";import"./data-N7aLfSNq.js";import"./get-popup-container-BlodRF3J.js";import"./useDateRangePicker-BKtSYaWH.js";import"./index-DJfT9zXE.js";import"./index-DrWjF7M-.js";import"./statusUtils-BM5saZYj.js";import"./BaseInput-4GoaorVY.js";import"./index-4s_bB_58.js";import"./SearchOutlined-DWMloAPO.js";import"./isPlainObject-u3tyL0Le.js";import"./index-bM1Vk0h0.js";import"./index-ZAb3F_Ap.js";import"./tree-Cp_w0kss.js";import"./index-DFhZ3N70.js";import"./index-BD1-7l4R.js";import"./useMaxLevel-D3VWO-Yn.js";import"./List-CuvitPlp.js";import"./createRef-CUnV3TOs.js";import"./eagerComputed-Be078mV-.js";import"./collapseMotion-BMhP7PaA.js";import"./index-CDIraj-f.js";import"./isSymbol-DB5hLpLo.js";import"./index-arYo5unX.js";import"./crypto-BIPOTUv7.js";import"./index-CI0QbcYu.js";import"./shallowequal-OTweHxuM.js";import"./Overflow-2nn19wYT.js";import"./slide-2E_o1wq8.js";import"./index-Bml6TPTK.js";import"./Dropdown-C8KFxVx_.js";import"./move-tO33QGmZ.js";import"./index-DL4br4xk.js";import"./rotate-cw-G598-s-f.js";import"./x-eg9hdiEc.js";function sn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const me=typeof document!="undefined";function w(e,t="Assertion failed!"){if(!e)throw console.error(t),new Error(t)}function st(e,t=document){var a;if(!me)return null;if(t instanceof HTMLElement&&((a=t==null?void 0:t.dataset)==null?void 0:a.panelGroupId)===e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function we(e,t=document){if(!me)return null;const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function rt(e,t,n=document){if(!me)return null;const o=de(e,n).findIndex(l=>l.getAttribute("data-panel-resize-handle-id")===t);return o!=null?o:null}function de(e,t=document){return me?Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`)):[]}function rn(e,t,n,a=document){var c,m,u,f;const o=we(t,a),l=de(e,a),i=o?l.indexOf(o):-1,s=(m=(c=n[i])==null?void 0:c.id)!=null?m:null,r=(f=(u=n[i+1])==null?void 0:u.id)!=null?f:null;return[s,r]}function ut(e){return e.type==="keydown"}function ct(e){return e.type.startsWith("mouse")}function dt(e){return e.type.startsWith("touch")}function Ce(e){if(ct(e))return{x:e.clientX,y:e.clientY};if(dt(e)){const t=e.touches[0];if(t&&t.clientX&&t.clientY)return{x:t.clientX,y:t.clientY}}return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY}}function ft(e,t){const n=e==="horizontal",{x:a,y:o}=Ce(t);return n?a:o}function un(e,t,n,a,o){const l=n==="horizontal",i=we(t,o);w(i);const s=i.getAttribute("data-panel-group-id");w(s);const{initialCursorPosition:r}=a,c=ft(n,e),m=st(s,o);w(m);const u=m.getBoundingClientRect(),f=l?u.width:u.height;return(c-r)/f*100}function cn(e,t,n,a,o,l){if(ut(e)){const i=n==="horizontal";let s=0;e.shiftKey?s=100:s=o!=null?o:10;let r=0;switch(e.key){case"ArrowDown":r=i?0:s;break;case"ArrowLeft":r=i?-s:0;break;case"ArrowRight":r=i?s:0;break;case"ArrowUp":r=i?0:-s;break;case"End":r=100;break;case"Home":r=-100;break}return r}else return a==null?0:un(e,t,n,a,l)}function dn({layout:e,panelsArray:t,pivotIndices:n}){let a=0,o=100,l=0,i=0;const s=n[0];w(s!=null),t.forEach((u,f)=>{const{constraints:h}=u,{maxSize:g=100,minSize:C=0}=h;f===s?(a=C,o=g):(l+=C,i+=g)});const r=Math.min(o,100-l),c=Math.max(a,100-i),m=e[s];return{valueMax:r,valueMin:c,valueNow:m}}function fn({panelDataArray:e}){const t=Array.from({length:e.length}),n=e.map(l=>l.constraints);let a=0,o=100;for(let l=0;l<e.length;l++){const i=n[l];w(i);const{defaultSize:s}=i;s!=null&&(a++,t[l]=s,o-=s)}for(let l=0;l<e.length;l++){const i=n[l];w(i);const{defaultSize:s}=i;if(s!=null)continue;const r=e.length-a,c=o/r;a++,t[l]=c,o-=c}return t}function se(e,t,n){t.forEach((a,o)=>{const l=e[o];w(l);const{callbacks:i,constraints:s,id:r}=l,{collapsedSize:c=0,collapsible:m}=s,u=n[r];if(u==null||a!==u){n[r]=a;const{onCollapse:f,onExpand:h,onResize:g}=i;g&&g(a,u),m&&(f||h)&&(h&&(u==null||u===c)&&a!==c&&h(),f&&(u==null||u!==c)&&a===c&&f())}})}function pn(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}const Te=10;function fe(e,t,n=Te){e=Number.parseFloat(e.toFixed(n)),t=Number.parseFloat(t.toFixed(n));const a=e-t;return a===0?0:a>0?1:-1}function H(e,t,n){return fe(e,t,n)===0}function le({panelConstraints:e,panelIndex:t,size:n}){const a=e[t];w(a!=null);const{collapsedSize:o=0,collapsible:l,maxSize:i=100,minSize:s=0}=a;if(fe(n,s)<0)if(l){const r=(o+s)/2;fe(n,r)<0?n=o:n=s}else n=s;return n=Math.min(i,n),n=Number.parseFloat(n.toFixed(Te)),n}function ze(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function re({delta:e,layout:t,panelConstraints:n,pivotIndices:a,trigger:o}){if(H(e,0))return t;const l=[...t],[i,s]=a;w(i!=null),w(s!=null);let r=0;if(o==="keyboard"){{const m=e<0?s:i,u=n[m];if(w(u),u.collapsible){const f=t[m];w(f!=null);const h=n[m];w(h);const{collapsedSize:g=0,minSize:C=0}=h;if(H(f,g)){const p=C-f;fe(p,Math.abs(e))>0&&(e=e<0?0-p:p)}}}{const m=e<0?i:s,u=n[m];w(u);const{collapsible:f}=u;if(f){const h=t[m];w(h!=null);const g=n[m];w(g);const{collapsedSize:C=0,minSize:p=0}=g;if(H(h,p)){const x=h-C;fe(x,Math.abs(e))>0&&(e=e<0?0-x:x)}}}}{const m=e<0?1:-1;let u=e<0?s:i,f=0;for(;;){const g=t[u];w(g!=null);const p=le({panelConstraints:n,panelIndex:u,size:100})-g;if(f+=p,u+=m,u<0||u>=n.length)break}const h=Math.min(Math.abs(e),Math.abs(f));e=e<0?0-h:h}{let u=e<0?i:s;for(;u>=0&&u<n.length;){const f=Math.abs(e)-Math.abs(r),h=t[u];w(h!=null);const g=h-f,C=le({panelConstraints:n,panelIndex:u,size:g});if(!H(h,C)&&(r+=h-C,l[u]=C,r.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?u--:u++}}if(H(r,0))return t;{const m=e<0?s:i,u=t[m];w(u!=null);const f=u+r,h=le({panelConstraints:n,panelIndex:m,size:f});if(l[m]=h,!H(h,f)){let g=f-h,p=e<0?s:i;for(;p>=0&&p<n.length;){const x=l[p];w(x!=null);const N=x+g,L=le({panelConstraints:n,panelIndex:p,size:N});if(H(x,L)||(g-=L-x,l[p]=L),H(g,0))break;e>0?p--:p++}}}const c=l.reduce((m,u)=>u+m,0);return H(c,100)?l:t}function pt(e,t,n){const a=rt(e,t,n);return a!=null?[a,a+1]:[-1,-1]}function mn(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function hn(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:tt(e),b:tt(t)};let a;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),a=e;w(a);const o={a:et(Ze(n.a)),b:et(Ze(n.b))};if(o.a===o.b){const l=a.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)};let s=l.length;for(;s--;){const r=l[s];if(r===i.a)return 1;if(r===i.b)return-1}}return Math.sign(o.a-o.b)}const vn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function gn(e){const t=getComputedStyle(mt(e)).display;return t==="flex"||t==="inline-flex"}function yn(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||gn(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||vn.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Ze(e){let t=e.length;for(;t--;){const n=e[t];if(w(n),yn(n))return n}return null}function et(e){return e&&Number(getComputedStyle(e).zIndex)||0}function tt(e){const t=[];for(;e;)t.push(e),e=mt(e);return t}function mt(e){var t;return e.parentNode instanceof DocumentFragment&&((t=e.parentNode)==null?void 0:t.host)||e.parentNode}const ht=1,vt=2,gt=4,yt=8;function bn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const zn=bn()==="coarse",Q=[];let Pe=!1;const Y=new Map,Ee=new Map,pe=new Set;function Sn(e,t,n,a,o,l){var c;const{ownerDocument:i}=t,s={direction:n,element:t,hitAreaMargins:a,nonce:o,setResizeHandlerState:l},r=(c=Y.get(i))!=null?c:0;return Y.set(i,r+1),pe.add(s),xe(),function(){var f;Ee.delete(e),pe.delete(s);const u=(f=Y.get(i))!=null?f:1;Y.set(i,u-1),xe(),zt(),u===1&&Y.delete(i)}}function Se(e){const{target:t}=e,{x:n,y:a}=Ce(e);Pe=!0,Oe({target:t,x:n,y:a}),xe(),Q.length>0&&(Ve("down",e),e.preventDefault())}function K(e){const{x:t,y:n}=Ce(e);if(!Pe){const{target:a}=e;Oe({target:a,x:t,y:n})}Ve("move",e),bt(),Q.length>0&&e.preventDefault()}function X(e){const{target:t}=e,{x:n,y:a}=Ce(e);Ee.clear(),Pe=!1,Q.length>0&&e.preventDefault(),Ve("up",e),Oe({target:t,x:n,y:a}),bt(),xe()}function Oe({target:e,x:t,y:n}){Q.splice(0);let a=null;e instanceof HTMLElement&&(a=e),pe.forEach(o=>{const{element:l,hitAreaMargins:i}=o,s=l.getBoundingClientRect(),{bottom:r,left:c,right:m,top:u}=s,f=zn?i.coarse:i.fine;if(t>=c-f&&t<=m+f&&n>=u-f&&n<=r+f){if(a!==null&&l!==a&&!l.contains(a)&&!a.contains(l)&&hn(a,l)>0){let g=a,C=!1;for(;g&&!g.contains(l);){if(mn(g.getBoundingClientRect(),s)){C=!0;break}g=g.parentElement}if(C)return}Q.push(o)}})}function Ae(e,t){Ee.set(e,t)}function bt(){let e=!1,t=!1,n;Q.forEach(o=>{const{direction:l,nonce:i}=o;l.value==="horizontal"?e=!0:t=!0,n=i.value});let a=0;Ee.forEach(o=>{a|=o}),e&&t?Re("intersection",a,n):e?Re("horizontal",a,n):t?Re("vertical",a,n):zt()}function xe(){Y.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",X),n.removeEventListener("mousedown",Se),n.removeEventListener("mouseleave",K),n.removeEventListener("mousemove",K),n.removeEventListener("touchmove",K),n.removeEventListener("touchstart",Se)}),window.removeEventListener("mouseup",X),window.removeEventListener("touchcancel",X),window.removeEventListener("touchend",X),pe.size>0&&(Pe?(Q.length>0&&Y.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",X),n.addEventListener("mouseleave",K),n.addEventListener("mousemove",K),n.addEventListener("touchmove",K,{passive:!1}))}),window.addEventListener("mouseup",X),window.addEventListener("touchcancel",X),window.addEventListener("touchend",X)):Y.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("mousedown",Se),n.addEventListener("mousemove",K),n.addEventListener("touchmove",K,{passive:!1}),n.addEventListener("touchstart",Se))}))}function Ve(e,t){pe.forEach(n=>{const{setResizeHandlerState:a}=n,o=Q.includes(n);a(e,o,t)})}let Ne=null,J=null;function xn(e,t){if(t){const n=(t&ht)!==0,a=(t&vt)!==0,o=(t&gt)!==0,l=(t&yt)!==0;if(n)return o?"se-resize":l?"ne-resize":"e-resize";if(a)return o?"sw-resize":l?"nw-resize":"w-resize";if(o)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function zt(){J!==null&&(document.head.removeChild(J),Ne=null,J=null)}function Re(e,t,n){const a=xn(e,t);Ne!==a&&(Ne=a,J===null&&(J=document.createElement("style"),n&&(J.nonce=n),document.head.appendChild(J)),J.innerHTML=`*{cursor: ${a}!important;}`)}function wn({defaultSize:e,dragState:t,layout:n,panelData:a,panelIndex:o,precision:l=3}){const i=n[o];let s;return i==null?s=e!==void 0?e.toPrecision(l):"1":a.length===1?s="1":s=i.toPrecision(l),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Cn({layout:e,panelConstraints:t}){const n=[...e],a=n.reduce((l,i)=>l+i,0);if(n.length!==t.length)throw new Error(`Invalid ${t.length} panel layout: ${n.map(l=>`${l}%`).join(", ")}`);if(!H(a,100)){console.warn(`WARNING: Invalid layout total size: ${n.map(l=>`${l}%`).join(", ")}. Layout normalization will be applied.`);for(let l=0;l<t.length;l++){const i=n[l];w(i!=null);const s=100/a*i;n[l]=s}}let o=0;for(let l=0;l<t.length;l++){const i=n[l];w(i!=null);const s=le({panelConstraints:t,panelIndex:l,size:i});i!==s&&(o+=i-s,n[l]=s)}if(!H(o,0))for(let l=0;l<t.length;l++){const i=n[l];w(i!=null);const s=i+o,r=le({panelConstraints:t,panelIndex:l,size:s});if(i!==r&&(o-=r-i,n[l]=r,H(o,0)))break}return n}function Pn({eagerValuesRef:e,groupId:t,layout:n,panelDataArray:a,panelGroupElement:o,setLayout:l}){ce(i=>{const s=o.value;if(!s)return;const r=de(t,s);for(let c=0;c<a.length-1;c++){const{valueMax:m,valueMin:u,valueNow:f}=dn({layout:n.value,panelsArray:a,pivotIndices:[c,c+1]}),h=r[c];if(h!=null){const g=a[c];w(g),h.setAttribute("aria-controls",g.id),h.setAttribute("aria-valuemax",`${Math.round(m)}`),h.setAttribute("aria-valuemin",`${Math.round(u)}`),h.setAttribute("aria-valuenow",f!=null?`${Math.round(f)}`:"")}}i(()=>{r.forEach(c=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})})}),ce(i=>{const s=o.value;if(!s)return;const r=e.value;w(r);const{panelDataArray:c}=r,m=st(t,s);w(m!=null,`No group found for id "${t}"`);const u=de(t,s);w(u);const f=u.map(h=>{const g=h.getAttribute("data-panel-resize-handle-id");w(g);const[C,p]=rn(t,g,c,s);if(C==null||p==null)return()=>{};const x=N=>{if(!N.defaultPrevented)switch(N.key){case"Enter":{N.preventDefault();const L=c.findIndex(A=>A.id===C);if(L>=0){const A=c[L];w(A);const P=n.value[L],{collapsedSize:k=0,collapsible:_,minSize:I=0}=A.constraints;if(P!=null&&_){const D=re({delta:H(P,k)?I-k:k-P,layout:n.value,panelConstraints:c.map(ae=>ae.constraints),pivotIndices:pt(t,g,s),trigger:"keyboard"});n.value!==D&&l(D)}}break}}};return h.addEventListener("keydown",x),()=>{h.removeEventListener("keydown",x)}});i(()=>{f.forEach(h=>h())})})}function nt(e){try{if(typeof localStorage!="undefined")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new TypeError("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function St(e){return`reka:${e}`}function xt(e){return e.map(t=>{const{constraints:n,id:a,idIsFromProps:o,order:l}=t;return o?a:l?`${l}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function wt(e,t){try{const n=St(e),a=t.getItem(n);if(a){const o=JSON.parse(a);if(typeof o=="object"&&o!=null)return o}}catch(n){}return null}function En(e,t,n){var l,i;const a=(l=wt(e,n))!=null?l:{},o=xt(t);return(i=a[o])!=null?i:null}function In(e,t,n,a,o){var r;const l=St(e),i=xt(t),s=(r=wt(e,o))!=null?r:{};s[i]={expandToSizes:Object.fromEntries(n.entries()),layout:a};try{o.setItem(l,JSON.stringify(s))}catch(c){console.error(c)}}const kn=100,ue={getItem:e=>(nt(ue),ue.getItem(e)),setItem:(e,t)=>{nt(ue),ue.setItem(e,t)}},[Ct,_n]=Lt("PanelGroup");var Mn=ne({__name:"SplitterGroup",props:{id:{type:[String,null],required:!1},autoSaveId:{type:[String,null],required:!1,default:null},direction:{type:String,required:!0},keyboardResizeBy:{type:[Number,null],required:!1,default:10},storage:{type:Object,required:!1,default:()=>ue},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["layout"],setup(e,{emit:t}){const n=e,a=t,o={},{direction:l}=$e(n),i=Be(n.id,"reka-splitter-group"),s=Mt(),{forwardRef:r,currentElement:c}=lt(),m=F(null),u=F([]),f=F({}),h=F(new Map),g=F(0),C=O(()=>({autoSaveId:n.autoSaveId,direction:n.direction,dragState:m.value,id:i,keyboardResizeBy:n.keyboardResizeBy,storage:n.storage})),p=F({layout:u.value,panelDataArray:[],panelDataArrayChanged:!1}),x=d=>u.value=d;Pn({eagerValuesRef:p,groupId:i,layout:u,panelDataArray:p.value.panelDataArray,setLayout:x,panelGroupElement:c}),ce(()=>{const{panelDataArray:d}=p.value,{autoSaveId:z}=n;if(z){if(u.value.length===0||u.value.length!==d.length)return;let v=o[z];v||(v=pn(In,kn),o[z]=v);const b=[...d],E=new Map(h.value);v(z,b,E,u.value,n.storage)}});function N(d,z){const{panelDataArray:v}=p.value,b=Z(v,d);return wn({defaultSize:z,dragState:m.value,layout:u.value,panelData:v,panelIndex:b})}function L(d){const{panelDataArray:z}=p.value;z.push(d),z.sort((v,b)=>{const E=v.order,S=b.order;return E==null&&S==null?0:E==null?-1:S==null?1:E-S}),p.value.panelDataArrayChanged=!0}qe(()=>p.value.panelDataArrayChanged,()=>{if(p.value.panelDataArrayChanged){p.value.panelDataArrayChanged=!1;const{autoSaveId:d,storage:z}=C.value,{layout:v,panelDataArray:b}=p.value;let E=null;if(d){const R=En(d,b,z);R&&(h.value=new Map(Object.entries(R.expandToSizes)),E=R.layout)}E===null&&(E=fn({panelDataArray:b}));const S=Cn({layout:E,panelConstraints:b.map(R=>R.constraints)});sn(v,S)||(x(S),p.value.layout=S,a("layout",S),se(b,S,f.value))}});function A(d){return function(v){v.preventDefault();const b=c.value;if(!b)return()=>null;const{direction:E,dragState:S,id:R,keyboardResizeBy:T}=C.value,{layout:B,panelDataArray:M}=p.value,{initialLayout:j}=S!=null?S:{},U=pt(R,d,b);let G=cn(v,d,E,S,T,b);if(G===0)return;const je=E==="horizontal";s.value==="rtl"&&je&&(G=-G);const Pt=M.map(Et=>Et.constraints),oe=re({delta:G,layout:j!=null?j:B,panelConstraints:Pt,pivotIndices:U,trigger:ut(v)?"keyboard":"mouse-or-touch"}),Ue=!ze(B,oe);(ct(v)||dt(v))&&g.value!==G&&(g.value=G,Ue?Ae(d,0):je?Ae(d,G<0?ht:vt):Ae(d,G<0?gt:yt)),Ue&&(x(oe),p.value.layout=oe,a("layout",oe),se(M,oe,f.value))}}function P(d,z){const{layout:v,panelDataArray:b}=p.value,E=b.map(j=>j.constraints),{panelSize:S,pivotIndices:R}=ee(b,d,v);w(S!=null);const B=Z(b,d)===b.length-1?S-z:z-S,M=re({delta:B,layout:v,panelConstraints:E,pivotIndices:R,trigger:"imperative-api"});ze(v,M)||(x(M),p.value.layout=M,a("layout",M),se(b,M,f.value))}function k(d,z){const{layout:v,panelDataArray:b}=p.value,E=Z(b,d);b[E]=d,p.value.panelDataArrayChanged=!0;const{collapsedSize:S=0,collapsible:R}=z,{collapsedSize:T=0,collapsible:B,maxSize:M=100,minSize:j=0}=d.constraints,{panelSize:U}=ee(b,d,v);U!==null&&(R&&B&&U===S?S!==T&&P(d,T):U<j?P(d,j):U>M&&P(d,M))}function _(d,z){const{direction:v}=C.value,{layout:b}=p.value;if(!c.value)return;const E=we(d,c.value);w(E);const S=ft(v,z);m.value={dragHandleId:d,dragHandleRect:E.getBoundingClientRect(),initialCursorPosition:S,initialLayout:b}}function I(){m.value=null}function D(d){const{panelDataArray:z}=p.value,v=Z(z,d);v>=0&&(z.splice(v,1),delete f.value[d.id],p.value.panelDataArrayChanged=!0)}function ae(d){const{layout:z,panelDataArray:v}=p.value;if(d.constraints.collapsible){const b=v.map(T=>T.constraints),{collapsedSize:E=0,panelSize:S,pivotIndices:R}=ee(v,d,z);if(w(S!=null,`Panel size not found for panel "${d.id}"`),S!==E){h.value.set(d.id,S);const B=Z(v,d)===v.length-1?S-E:E-S,M=re({delta:B,layout:z,panelConstraints:b,pivotIndices:R,trigger:"imperative-api"});ze(z,M)||(x(M),p.value.layout=M,a("layout",M),se(v,M,f.value))}}}function ie(d){const{layout:z,panelDataArray:v}=p.value;if(d.constraints.collapsible){const b=v.map(B=>B.constraints),{collapsedSize:E=0,panelSize:S,minSize:R=0,pivotIndices:T}=ee(v,d,z);if(S===E){const B=h.value.get(d.id),M=B!=null&&B>=R?B:R,U=Z(v,d)===v.length-1?S-M:M-S,G=re({delta:U,layout:z,panelConstraints:b,pivotIndices:T,trigger:"imperative-api"});ze(z,G)||(x(G),p.value.layout=G,a("layout",G),se(v,G,f.value))}}}function he(d){const{layout:z,panelDataArray:v}=p.value,{panelSize:b}=ee(v,d,z);return w(b!=null,`Panel size not found for panel "${d.id}"`),b}function ve(d){const{layout:z,panelDataArray:v}=p.value,{collapsedSize:b=0,collapsible:E,panelSize:S}=ee(v,d,z);return E?S===void 0?d.constraints.defaultSize===d.constraints.collapsedSize:S===b:!1}function ge(d){const{layout:z,panelDataArray:v}=p.value,{collapsedSize:b=0,collapsible:E,panelSize:S}=ee(v,d,z);return w(S!=null,`Panel size not found for panel "${d.id}"`),!E||S>b}_n({direction:l,dragState:m.value,groupId:i,reevaluatePanelConstraints:k,registerPanel:L,registerResizeHandle:A,resizePanel:P,startDragging:_,stopDragging:I,unregisterPanel:D,panelGroupElement:c,collapsePanel:ae,expandPanel:ie,isPanelCollapsed:ve,isPanelExpanded:ge,getPanelSize:he,getPanelStyle:N});function Z(d,z){return d.findIndex(v=>v===z||v.id===z.id)}function ee(d,z,v){const b=Z(d,z),S=b===d.length-1?[b-1,b]:[b,b+1],R=v[b];return ke(Ie({},z.constraints),{panelSize:R,pivotIndices:S})}return(d,z)=>(W(),V(y(Ge),{ref:y(r),as:d.as,"as-child":d.asChild,style:He({display:"flex",flexDirection:y(l)==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"}),"data-panel-group":"","data-orientation":y(l),"data-panel-group-id":y(i)},{default:$(()=>[te(d.$slots,"default",{layout:u.value})]),_:3},8,["as","as-child","style","data-orientation","data-panel-group-id"]))}}),Ln=Mn,An=ne({__name:"SplitterPanel",props:{collapsedSize:{type:Number,required:!1},collapsible:{type:Boolean,required:!1},defaultSize:{type:Number,required:!1},id:{type:String,required:!1},maxSize:{type:Number,required:!1},minSize:{type:Number,required:!1},order:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["collapse","expand","resize"],setup(e,{expose:t,emit:n}){const a=e,o=n,l=Ct();if(l===null)throw new Error("SplitterPanel components must be rendered within a SplitterGroup container");const{collapsePanel:i,expandPanel:s,getPanelSize:r,getPanelStyle:c,isPanelCollapsed:m,resizePanel:u,groupId:f,reevaluatePanelConstraints:h,registerPanel:g,unregisterPanel:C}=l,p=Be(a.id,"reka-splitter-panel"),x=O(()=>({callbacks:{onCollapse:()=>o("collapse"),onExpand:()=>o("expand"),onResize:(...I)=>o("resize",...I)},constraints:{collapsedSize:a.collapsedSize&&Number.parseFloat(a.collapsedSize.toFixed(Te)),collapsible:a.collapsible,defaultSize:a.defaultSize,maxSize:a.maxSize,minSize:a.minSize},id:p,idIsFromProps:a.id!==void 0,order:a.order}));qe(()=>x.value.constraints,(I,D)=>{(D.collapsedSize!==I.collapsedSize||D.collapsible!==I.collapsible||D.maxSize!==I.maxSize||D.minSize!==I.minSize)&&h(x.value,D)},{deep:!0}),Jt(()=>{g(x.value)}),Qt(()=>{C(x.value)});const N=O(()=>c(x.value,a.defaultSize)),L=O(()=>m(x.value)),A=O(()=>!L.value);function P(){i(x.value)}function k(){s(x.value)}function _(I){u(x.value,I)}return t({collapse:P,expand:k,getSize(){return r(x.value)},resize:_,isCollapsed:L,isExpanded:A}),(I,D)=>(W(),V(y(Ge),{id:y(p),style:He(N.value),as:I.as,"as-child":I.asChild,"data-panel":"","data-panel-collapsible":I.collapsible||void 0,"data-panel-group-id":y(f),"data-panel-id":y(p),"data-panel-size":Number.parseFloat(`${N.value.flexGrow}`).toFixed(1),"data-state":I.collapsible?L.value?"collapsed":"expanded":void 0},{default:$(()=>[te(I.$slots,"default",{isCollapsed:L.value,isExpanded:A.value,expand:k,collapse:P,resize:_})]),_:3},8,["id","style","as","as-child","data-panel-collapsible","data-panel-group-id","data-panel-id","data-panel-size","data-state"]))}}),at=An;function Rn({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:a}){ce(o=>{const l=a.value;if(e.value||n.value===null||l===null)return;const i=we(t,l);if(i==null)return;const s=r=>{var c;if(!r.defaultPrevented)switch(r.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{r.preventDefault(),(c=n.value)==null||c.call(n,r);break}case"F6":{r.preventDefault();const m=i.getAttribute("data-panel-group-id");w(m);const u=de(m,l),f=rt(m,t,l);w(f!==null);const h=r.shiftKey?f>0?f-1:u.length-1:f+1<u.length?f+1:0;u[h].focus();break}}};i.addEventListener("keydown",s),o(()=>{i.removeEventListener("keydown",s)})})}var $n=ne({__name:"SplitterResizeHandle",props:{id:{type:String,required:!1},hitAreaMargins:{type:Object,required:!1},tabindex:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},nonce:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["dragging"],setup(e,{emit:t}){const n=e,a=t,{forwardRef:o,currentElement:l}=lt(),{disabled:i}=$e(n),s=Ct();if(s===null)throw new Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:r,groupId:c,registerResizeHandle:m,startDragging:u,stopDragging:f,panelGroupElement:h}=s,g=Be(n.id,"reka-splitter-resize-handle"),C=F("inactive"),p=F(!1),x=F(null),{nonce:N}=$e(n),L=At(N);return qe(i,()=>{me&&(i.value?x.value=null:x.value=m(g))},{immediate:!0}),ce(A=>{var _,I,D,ae;if(i.value||x.value===null)return;const P=l.value;if(!P)return;w(P);const k=(ie,he,ve)=>{var ge;if(he)switch(ie){case"down":{C.value="drag",u(g,ve),a("dragging",!0);break}case"move":{C.value!=="drag"&&(C.value="hover"),(ge=x.value)==null||ge.call(x,ve);break}case"up":{C.value="hover",f(),a("dragging",!1);break}}else C.value="inactive"};A(Sn(g,P,r,{coarse:(I=(_=n.hitAreaMargins)==null?void 0:_.coarse)!=null?I:15,fine:(ae=(D=n.hitAreaMargins)==null?void 0:D.fine)!=null?ae:5},L,k))}),Rn({disabled:i,resizeHandler:x,handleId:g,panelGroupElement:h}),(A,P)=>(W(),V(y(Ge),{id:y(g),ref:y(o),style:{touchAction:"none",userSelect:"none"},as:A.as,"as-child":A.asChild,role:"separator","data-resize-handle":"",tabindex:A.tabindex,"data-state":C.value,"data-disabled":y(i)?"":void 0,"data-orientation":y(r),"data-panel-group-id":y(c),"data-resize-handle-active":C.value==="drag"?"pointer":p.value?"keyboard":void 0,"data-resize-handle-state":C.value,"data-panel-resize-handle-enabled":!y(i),"data-panel-resize-handle-id":y(g),onBlur:P[0]||(P[0]=k=>p.value=!1),onFocus:P[1]||(P[1]=k=>p.value=!1)},{default:$(()=>[te(A.$slots,"default")]),_:3},8,["id","as","as-child","tabindex","data-state","data-disabled","data-orientation","data-panel-group-id","data-resize-handle-active","data-resize-handle-state","data-panel-resize-handle-enabled","data-panel-resize-handle-id"]))}}),Dn=$n;const Nn=Rt("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),Bn={key:0,class:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border"},Gn=ne({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},nonce:{},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(e,{emit:t}){const n=e,a=t,o=O(()=>{const r=n,{class:i}=r;return be(r,["class"])}),l=it(o,a);return(i,s)=>(W(),V(y(Dn),We(y(l),{class:y(ot)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 [&[data-orientation=vertical]>div]:rotate-90 [&[data-orientation=vertical]]:h-px [&[data-orientation=vertical]]:w-full [&[data-orientation=vertical]]:after:left-0 [&[data-orientation=vertical]]:after:h-1 [&[data-orientation=vertical]]:after:w-full [&[data-orientation=vertical]]:after:-translate-y-1/2 [&[data-orientation=vertical]]:after:translate-x-0",n.class)}),{default:$(()=>[n.withHandle?(W(),De("div",Bn,[q(y(Nn),{class:"h-2.5 w-2.5"})])):Fe("",!0)]),_:1},16,["class"]))}}),qn=ne({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(e,{emit:t}){const n=e,a=t,o=O(()=>{const r=n,{class:i}=r;return be(r,["class"])}),l=it(o,a);return(i,s)=>(W(),V(y(Ln),We(y(l),{class:y(ot)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n.class)}),{default:$(()=>[te(i.$slots,"default")]),_:3},16,["class"]))}}),Hn=ne({name:"ColPage",inheritAttrs:!1,__name:"col-page",props:{leftWidth:{default:30},leftMinWidth:{},leftMaxWidth:{},leftCollapsedWidth:{},leftCollapsible:{type:Boolean},rightWidth:{default:70},rightMinWidth:{},rightCollapsedWidth:{},rightMaxWidth:{},rightCollapsible:{type:Boolean},resizable:{type:Boolean,default:!0},splitLine:{type:Boolean},splitHandle:{type:Boolean},title:{},description:{},contentClass:{},autoContentHeight:{type:Boolean},headerClass:{},footerClass:{},heightOffset:{}},setup(e,{expose:t}){const n=e,a=O(()=>{const u=n,{leftWidth:c}=u;return be(u,["leftWidth"])}),o=Zt(),l=O(()=>{const c=[];for(const m of Object.keys(o))["default","left"].includes(m)||c.push(m);return c}),i=F();function s(){var c;(c=i.value)==null||c.expand()}function r(){var c;(c=i.value)==null||c.collapse()}return t({expandLeft:s,collapseLeft:r}),(c,m)=>(W(),V(Yt,Me(Le(a.value)),en({default:$(()=>[q(y(qn),{class:"w-full",direction:"horizontal"},{default:$(()=>[q(y(at),{ref_key:"leftPanelRef",ref:i,"collapsed-size":e.leftCollapsedWidth,collapsible:e.leftCollapsible,"default-size":e.leftWidth,"max-size":e.leftMaxWidth,"min-size":e.leftMinWidth},{default:$(u=>[te(c.$slots,"left",Me(Le(ke(Ie({},u),{expand:s,collapse:r}))))]),_:3},8,["collapsed-size","collapsible","default-size","max-size","min-size"]),e.resizable?(W(),V(y(Gn),{key:0,style:He({backgroundColor:e.splitLine?void 0:"transparent"}),"with-handle":e.splitHandle},null,8,["style","with-handle"])):Fe("",!0),q(y(at),{"collapsed-size":e.rightCollapsedWidth,collapsible:e.rightCollapsible,"default-size":e.rightWidth,"max-size":e.rightMaxWidth,"min-size":e.rightMinWidth},{default:$(()=>[te(c.$slots,"default")]),_:3},8,["collapsed-size","collapsible","default-size","max-size","min-size"])]),_:3})]),_:2},[tn(l.value,u=>({name:u,fn:$(f=>[te(c.$slots,u,Me(Le(f)))])}))]),1040))}}),Wn=["onClick"],Fn={key:1,style:{minWidth:"200px"},class:"border-border bg-card mr-2 h-full overflow-auto rounded-[var(--radius)] border p-2"},Tn={class:"h-full"},Wa=ne({__name:"index",setup(e){const t=F([]),n={compact:!0,collapsed:!0,commonConfig:{labelWidth:80,componentProps:{allowClear:!0}},schema:Ft(),fieldMappingTime:[["createTime",["startTime","endTime"],"YYYY-MM-DD HH:mm:ss"]],submitOnChange:!1,wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},a={columns:Tt,height:"auto",showOverflow:!0,keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(D,...ae)=>_e(null,[D,...ae],function*({page:{currentPage:P,pageSize:k},sorts:_},I={}){t.value.length===1?I.deptIdList=t.value:Reflect.deleteProperty(I,"deptIdList");const ie=Wt({currentPage:P,pageSize:k},I,_);return yield Ht(ie)})}},headerCellConfig:{height:44},sortConfig:{remote:!0,multiple:!1},rowConfig:{keyField:"id"},id:"system-user-index"},o={sortChange(){i.query()}},[l,i]=$t({formOptions:n,gridOptions:a,gridEvents:o}),[s,r]=Qe({connectedComponent:Vt,destroyOnClose:!0});function c(){r.setData({}).open()}function m(P){r.setData(P).open()}const[u,f]=on({connectedComponent:Ut,destroyOnClose:!0});function h(P){f.setData(P).open()}function g(P){return _e(this,null,function*(){yield qt(P.id),yield i.query()})}const[C,p]=Qe({connectedComponent:jt,destroyOnClose:!0});function x(P){p.setData(P).open()}const{hasAccessByCodes:N}=Dt(),L=O(()=>N(["system:user:list"])),A=nn({leftCollapsedWidth:3,leftCollapsible:!0,leftMaxWidth:30,leftMinWidth:17,leftWidth:17,resizable:!0,rightWidth:83,splitHandle:!0,splitLine:!1});return(P,k)=>L.value?(W(),V(y(Hn),We({key:0,"auto-content-height":""},A),{left:$(({isCollapsed:_,expand:I})=>[_?(W(),De("div",{key:0,onClick:I},[q(y(Nt),{title:"点击展开左侧"},{default:$(()=>[q(y(Bt),{shape:"circle",type:"primary",class:"flex items-center justify-center"},{icon:$(()=>[q(y(Kt),{class:"text-2xl",icon:"ant-design:arrow-right"})]),_:1})]),_:1})],8,Wn)):(W(),De("div",Fn,[q(Ot,{class:"h-full","select-dept-id":t.value,"onUpdate:selectDeptId":k[0]||(k[0]=D=>t.value=D),onReload:k[1]||(k[1]=()=>y(i).reload()),onSelect:k[2]||(k[2]=()=>y(i).reload())},null,8,["select-dept-id"])]))]),default:$(()=>[an("div",Tn,[q(y(l),{class:"flex-1 overflow-hidden"},{"toolbar-actions":$(()=>[q(y(Je),{actions:[{label:"新增",type:"primary",icon:"ant-design:plus-outlined",auth:["system:user:add"],onClick:()=>c()}]},null,8,["actions"])]),usable:$(({row:_})=>[q(y(Xt),{value:_.usable,"onUpdate:value":I=>_.usable=I,api:()=>y(Gt)(_),onReload:k[3]||(k[3]=I=>y(i).query()),disabled:!y(N)(["system:user:edit"])},null,8,["value","onUpdate:value","api","disabled"])]),action:$(({row:_})=>[_.operable===1?(W(),V(y(Je),{key:0,actions:[{label:"编辑",icon:"ant-design:edit-outlined",auth:["system:user:edit"],onClick:m.bind(null,_)},{label:"删除",icon:"ant-design:delete-outlined",auth:["system:user:delete"],popConfirm:{title:"确定删除吗？",confirm:g.bind(null,_)}}],"drop-down-actions":[{label:"授权仅自己",auth:["system:user:dataScope"],icon:"ant-design:edit-outlined",onClick:x.bind(null,_)},{label:"重置密码",auth:["system:user:updatePwd"],icon:"ant-design:key-outlined",onClick:h.bind(null,_)}]},null,8,["actions","drop-down-actions"])):Fe("",!0)]),_:1}),q(y(s),{onReload:k[4]||(k[4]=_=>y(i).query())}),q(y(u),{onReload:k[5]||(k[5]=_=>y(i).query())}),q(y(C),{onReload:k[6]||(k[6]=_=>y(i).query())})])]),_:1},16)):(W(),V(y(ln),{key:1,description:"抱歉，您没有权限访问此页面。",status:"403"}))}});export{Wa as default};
